"use strict";(self["webpackChunkaudio_vue3"]=self["webpackChunkaudio_vue3"]||[]).push([[515],{507:function(t,e,n){var r=n(9565);t.exports=function(t,e,n){var i,s,o=n?t:t.iterator,a=t.next;while(!(i=r(a,o)).done)if(s=e(i.value),void 0!==s)return s}},531:function(t,e,n){var r=n(4137),i=n(9565),s=n(9306),o=n(8551),a=n(1767),u=n(8646),c=n(9462),f=n(9539),l=n(6395),d=c((function(){var t,e,n=this.iterator,r=this.mapper;while(1){if(e=this.inner)try{if(t=o(i(e.next,e.iterator)),!t.done)return t.value;this.inner=null}catch(s){f(n,"throw",s)}if(t=o(i(this.next,n)),this.done=!!t.done)return;try{this.inner=u(r(t.value,this.counter++),!1)}catch(s){f(n,"throw",s)}}}));r({target:"Iterator",proto:!0,real:!0,forced:l},{flatMap:function(t){return o(this),s(t),new d(a(this),{mapper:t,inner:null})}})},1698:function(t,e,n){var r=n(4137),i=n(4204),s=n(4916);r({target:"Set",proto:!0,real:!0,forced:!s("union")},{union:i})},2475:function(t,e,n){var r=n(4137),i=n(8527),s=n(4916),o=!s("isSupersetOf",(function(t){return!t}));r({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:i})},3440:function(t,e,n){var r=n(7080),i=n(4402),s=n(9286),o=n(5170),a=n(3789),u=n(8469),c=n(507),f=i.has,l=i.remove;t.exports=function(t){var e=r(this),n=a(t),i=s(e);return o(e)<=n.size?u(e,(function(t){n.includes(t)&&l(i,t)})):c(n.getIterator(),(function(t){f(e,t)&&l(i,t)})),i}},3650:function(t,e,n){var r=n(7080),i=n(4402),s=n(9286),o=n(3789),a=n(507),u=i.add,c=i.has,f=i.remove;t.exports=function(t){var e=r(this),n=o(t).getIterator(),i=s(e);return a(n,(function(t){c(e,t)?f(i,t):u(i,t)})),i}},3789:function(t,e,n){var r=n(9306),i=n(8551),s=n(9565),o=n(1291),a=n(1767),u="Invalid size",c=RangeError,f=TypeError,l=Math.max,d=function(t,e){this.set=t,this.size=l(e,0),this.has=r(t.has),this.keys=r(t.keys)};d.prototype={getIterator:function(){return a(i(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!==e)throw new f(u);var n=o(e);if(n<0)throw new c(u);return new d(t,n)}},3838:function(t,e,n){var r=n(7080),i=n(5170),s=n(8469),o=n(3789);t.exports=function(t){var e=r(this),n=o(t);return!(i(e)>n.size)&&!1!==s(e,(function(t){if(!n.includes(t))return!1}),!0)}},3853:function(t,e,n){var r=n(4137),i=n(4449),s=n(4916),o=!s("isDisjointFrom",(function(t){return!t}));r({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:i})},4204:function(t,e,n){var r=n(7080),i=n(4402).add,s=n(9286),o=n(3789),a=n(507);t.exports=function(t){var e=r(this),n=o(t).getIterator(),u=s(e);return a(n,(function(t){i(u,t)})),u}},4402:function(t,e,n){var r=n(9504),i=Set.prototype;t.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i["delete"]),proto:i}},4449:function(t,e,n){var r=n(7080),i=n(4402).has,s=n(5170),o=n(3789),a=n(8469),u=n(507),c=n(9539);t.exports=function(t){var e=r(this),n=o(t);if(s(e)<=n.size)return!1!==a(e,(function(t){if(n.includes(t))return!1}),!0);var f=n.getIterator();return!1!==u(f,(function(t){if(i(e,t))return c(f,"normal",!1)}))}},4916:function(t,e,n){var r=n(7751),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},s=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var n=r("Set");try{(new n)[t](i(0));try{return(new n)[t](i(-1)),!1}catch(a){if(!e)return!0;try{return(new n)[t](s(-1/0)),!1}catch(u){var o=new n;return o.add(1),o.add(2),e(o[t](s(1/0)))}}}catch(u){return!1}}},5024:function(t,e,n){var r=n(4137),i=n(3650),s=n(4916);r({target:"Set",proto:!0,real:!0,forced:!s("symmetricDifference")},{symmetricDifference:i})},5170:function(t,e,n){var r=n(6706),i=n(4402);t.exports=r(i.proto,"size","get")||function(t){return t.size}},5876:function(t,e,n){var r=n(4137),i=n(3838),s=n(4916),o=!s("isSubsetOf",(function(t){return t}));r({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:i})},6706:function(t,e,n){var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(s){}}},7080:function(t,e,n){var r=n(4402).has;t.exports=function(t){return r(t),t}},7515:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(6068),i=(n(6422),n(9303),n(2012)),s=(n(5675),n(4490)),o=(n(8635),n(5929),n(641)),a=n(33),u=n(3751);const c={class:"survey-container"},f={class:"header"},l={class:"title"},d={class:"question-title"},h={class:"question-number"},v={class:"option-label"},p={class:"action-buttons"};function g(t,e,n,g,y,m){const w=s.gc,k=s.l7,S=i.ll,x=i.MQ,b=r.S2;return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("div",f,[(0,o.Lk)("h1",l,(0,a.v_)(y.surveyData.title),1),e[0]||(e[0]=(0,o.Lk)("div",{class:"decorative-line"},null,-1))]),(0,o.bF)(k,{active:y.currentPage+1,"align-center":"",class:"custom-steps"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(y.surveyData.pages,((t,e)=>((0,o.uX)(),(0,o.Wv)(w,{key:e,title:`Step ${e+1}`},null,8,["title"])))),128))])),_:1},8,["active"]),(0,o.bF)(u.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.CE)("div",{class:"question-card",key:y.currentPage},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.currentQuestions,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"question-item"},[(0,o.Lk)("h3",d,[(0,o.Lk)("span",h,"Q"+(0,a.v_)(t.id),1),(0,o.eW)(" "+(0,a.v_)(t.text),1)]),(0,o.bF)(x,{modelValue:y.answers[t.id],"onUpdate:modelValue":e=>y.answers[t.id]=e,class:"option-group"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.options,(t=>((0,o.uX)(),(0,o.Wv)(S,{key:t.value,label:t.value,class:"custom-radio"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",v,(0,a.v_)(t.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))]))])),_:1}),(0,o.Lk)("div",p,[y.currentPage<m.totalPages-1?((0,o.uX)(),(0,o.Wv)(b,{key:0,type:"primary",class:"next-button",onClick:m.nextPage},{default:(0,o.k6)((()=>e[1]||(e[1]=[(0,o.eW)(" 继续答题 ➔ ")]))),_:1},8,["onClick"])):((0,o.uX)(),(0,o.Wv)(b,{key:1,type:"success",class:"submit-button",onClick:m.submitSurvey},{default:(0,o.k6)((()=>e[2]||(e[2]=[(0,o.eW)(" ✓ 提交问卷 ")]))),_:1},8,["onClick"]))])])}n(8111),n(116),n(531),n(7588),n(8237),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var y={data(){return{surveyData:{},currentPage:0,answers:{},requiredQuestions:new Set}},computed:{currentQuestions(){return this.surveyData.pages?.[this.currentPage]?.questions||[]},totalPages(){return this.surveyData.pages?.length||0}},async mounted(){const t=await fetch("/question.json");this.surveyData=await t.json(),this.surveyData.pages.forEach((t=>{t.questions.forEach((t=>this.requiredQuestions.add(t.id)))}))},methods:{handleAnswer(t){this.requiredQuestions.delete(t)},prevPage(){this.currentPage=Math.max(0,this.currentPage-1)},nextPage(){this.requiredQuestions.size>0?this.$message.error("请完成本页所有题目"):this.currentPage=Math.min(this.totalPages-1,this.currentPage+1)},async submitSurvey(){const t=this.surveyData.pages.flatMap((t=>t.questions)).length,e=Object.entries(this.answers).reduce(((t,[e,n])=>{const r=this.findQuestion(Number(e));return t+(n===r.correct?1:0)}),0),n={score:`${e}/${t}`,answers:this.answers,timestamp:(new Date).toISOString()};try{await this.sendEmail(n),this.$message.success("提交成功！结果已发送")}catch(r){this.$message.error("提交失败，请重试")}},findQuestion(t){return this.surveyData.pages.flatMap((t=>t.questions)).find((e=>e.id===t))},async sendEmail(t){console.log("模拟发送到:",this.surveyData.email),console.log("邮件内容:",JSON.stringify(t,null,2));const e=`问卷结果 - 得分 ${t.score}`,n=`\n          得分：${t.score}\n          完整答案：${JSON.stringify(t.answers,null,2)}\n        `;window.location.href=`mailto:${this.surveyData.email}?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(n)}`}}},m=n(6262);const w=(0,m.A)(y,[["render",g],["__scopeId","data-v-0c5c5e16"]]);var k=w},7642:function(t,e,n){var r=n(4137),i=n(3440),s=n(4916),o=!s("difference",(function(t){return 0===t.size}));r({target:"Set",proto:!0,real:!0,forced:o},{difference:i})},8004:function(t,e,n){var r=n(4137),i=n(9039),s=n(8750),o=n(4916),a=!o("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:a},{intersection:s})},8237:function(t,e,n){var r=n(4137),i=n(2652),s=n(9306),o=n(8551),a=n(1767),u=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(t){o(this),s(t);var e=a(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(i(e,(function(e){n?(n=!1,r=e):r=t(r,e,c),c++}),{IS_RECORD:!0}),n)throw new u("Reduce of empty iterator with no initial value");return r}})},8469:function(t,e,n){var r=n(9504),i=n(507),s=n(4402),o=s.Set,a=s.proto,u=r(a.forEach),c=r(a.keys),f=c(new o).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:f},e):u(t,e)}},8527:function(t,e,n){var r=n(7080),i=n(4402).has,s=n(5170),o=n(3789),a=n(507),u=n(9539);t.exports=function(t){var e=r(this),n=o(t);if(s(e)<n.size)return!1;var c=n.getIterator();return!1!==a(c,(function(t){if(!i(e,t))return u(c,"normal",!1)}))}},8646:function(t,e,n){var r=n(9565),i=n(8551),s=n(1767),o=n(851);t.exports=function(t,e){e&&"string"===typeof t||i(t);var n=o(t);return s(i(void 0!==n?r(n,t):t))}},8750:function(t,e,n){var r=n(7080),i=n(4402),s=n(5170),o=n(3789),a=n(8469),u=n(507),c=i.Set,f=i.add,l=i.has;t.exports=function(t){var e=r(this),n=o(t),i=new c;return s(e)>n.size?u(n.getIterator(),(function(t){l(e,t)&&f(i,t)})):a(e,(function(t){n.includes(t)&&f(i,t)})),i}},9286:function(t,e,n){var r=n(4402),i=n(8469),s=r.Set,o=r.add;t.exports=function(t){var e=new s;return i(t,(function(t){o(e,t)})),e}}}]);
//# sourceMappingURL=515.a5480fb3.js.map