"use strict";(self["webpackChunkaudio_vue3"]=self["webpackChunkaudio_vue3"]||[]).push([[73],{655:function(e,t,i){var n=i(6955),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},713:function(e,t,i){var n=i(9565),o=i(9306),a=i(8551),r=i(1767),s=i(9462),l=i(6319),u=s((function(){var e=this.iterator,t=a(n(this.next,e)),i=this.done=!!t.done;if(!i)return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return a(this),o(e),new u(r(this),{mapper:e})}},1701:function(e,t,i){var n=i(4137),o=i(713),a=i(6395);n({target:"Iterator",proto:!0,real:!0,forced:a},{map:o})},2073:function(e,t,i){i.r(t),i.d(t,{default:function(){return At}});var n=i(641),o=i(953),a=i(33),r=i(3751),s=i(7786),l=i(7859),u=i(2307),d=i(1361),c=i(8548);const h=()=>u.oc&&/firefox/i.test(window.navigator.userAgent);var p=i(2154);let m;const v={height:"0",visibility:"hidden",overflow:h()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function g(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width")),a=f.map((e=>[e,t.getPropertyValue(e)]));return{contextStyle:a,paddingSize:n,borderSize:o,boxSizing:i}}function b(e,t=1,i){var n;m||(m=document.createElement("textarea"),document.body.appendChild(m));const{paddingSize:o,borderSize:a,boxSizing:r,contextStyle:s}=g(e);s.forEach((([e,t])=>null==m?void 0:m.style.setProperty(e,t))),Object.entries(v).forEach((([e,t])=>null==m?void 0:m.style.setProperty(e,t,"important"))),m.value=e.value||e.placeholder||"";let l=m.scrollHeight;const u={};"border-box"===r?l+=a:"content-box"===r&&(l-=o),m.value="";const d=m.scrollHeight-o;if((0,p.Et)(t)){let e=d*t;"border-box"===r&&(e=e+o+a),l=Math.max(e,l),u.minHeight=`${e}px`}if((0,p.Et)(i)){let e=d*i;"border-box"===r&&(e=e+o+a),l=Math.min(e,l)}return u.height=`${l}px`,null==(n=m.parentNode)||n.removeChild(m),m=void 0,u}var y=i(2018),w=i(5343),x=i(1254),R=i(465),C=i(1069),E=i(819);const k=(0,E.b_)({id:{type:String,default:void 0},size:y.mU,disabled:Boolean,modelValue:{type:(0,E.jq)([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:(0,E.jq)([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:w.Ze},prefixIcon:{type:w.Ze},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:(0,E.jq)([Object,Array,String]),default:()=>(0,x.f)({})},autofocus:Boolean,rows:{type:Number,default:2},...(0,R.l)(["ariaLabel"])}),S={[C.l4]:e=>(0,a.Kg)(e),input:e=>(0,a.Kg)(e),change:e=>(0,a.Kg)(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};var P=i(8396),M=i(3753),T=i(1651);const L=["class","style"],W=/^on[A-Z]/,N=(e={})=>{const{excludeListeners:t=!1,excludeKeys:i}=e,o=(0,n.EW)((()=>((null==i?void 0:i.value)||[]).concat(L))),a=(0,n.nI)();return a?(0,n.EW)((()=>{var e;return(0,M.A)(Object.entries(null==(e=a.proxy)?void 0:e.$attrs).filter((([e])=>!o.value.includes(e)&&!(t&&W.test(e)))))})):((0,T.U)("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),(0,n.EW)((()=>({}))))};var V=i(9357),D=i(2207);function I(e,{beforeFocus:t,afterFocus:i,beforeBlur:r,afterBlur:l}={}){const u=(0,n.nI)(),{emit:d}=u,c=(0,o.IJ)(),h=(0,o.KR)(!1),p=e=>{const n=!!(0,a.Tn)(t)&&t(e);n||h.value||(h.value=!0,d("focus",e),null==i||i())},m=e=>{var t;const i=!!(0,a.Tn)(r)&&r(e);i||e.relatedTarget&&(null==(t=c.value)?void 0:t.contains(e.relatedTarget))||(h.value=!1,d("blur",e),null==l||l())},v=()=>{var t,i;(null==(t=c.value)?void 0:t.contains(document.activeElement))&&c.value!==document.activeElement||null==(i=e.value)||i.focus()};return(0,n.wB)(c,(e=>{e&&e.setAttribute("tabindex","-1")})),(0,s.MLh)(c,"focus",p,!0),(0,s.MLh)(c,"blur",m,!0),(0,s.MLh)(c,"click",v,!0),{isFocused:h,wrapperRef:c,handleFocus:p,handleBlur:m}}const B=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function A({afterComposition:e,emit:t}){const i=(0,o.KR)(!1),a=e=>{null==t||t("compositionstart",e),i.value=!0},r=e=>{var n;null==t||t("compositionupdate",e);const o=null==(n=e.target)?void 0:n.value,a=o[o.length-1]||"";i.value=!B(a)},s=o=>{null==t||t("compositionend",o),i.value&&(i.value=!1,(0,n.dY)((()=>e(o))))},l=e=>{"compositionend"===e.type?s(e):r(e)};return{isComposing:i,handleComposition:l,handleCompositionStart:a,handleCompositionUpdate:r,handleCompositionEnd:s}}function F(e){let t;function i(){if(void 0==e.value)return;const{selectionStart:i,selectionEnd:n,value:o}=e.value;if(null==i||null==n)return;const a=o.slice(0,Math.max(0,i)),r=o.slice(Math.max(0,n));t={selectionStart:i,selectionEnd:n,value:o,beforeTxt:a,afterTxt:r}}function n(){if(void 0==e.value||void 0==t)return;const{value:i}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:a}=t;if(void 0==n||void 0==o||void 0==a)return;let r=i.length;if(i.endsWith(o))r=i.length-o.length;else if(i.startsWith(n))r=n.length;else{const e=n[a-1],t=i.indexOf(e,a-1);-1!==t&&(r=t+1)}e.value.setSelectionRange(r,r)}return[i,n]}var _=i(5980);const O="ElInput",$=(0,n.pM)({name:O,inheritAttrs:!1}),X=(0,n.pM)({...$,props:k,emits:S,setup(e,{expose:t,emit:i}){const h=e,p=(0,n.OA)(),m=N(),v=(0,n.Ht)(),f=(0,n.EW)((()=>["textarea"===h.type?P.b():S.b(),S.m(E.value),S.is("disabled",k.value),S.is("exceed",ae.value),{[S.b("group")]:v.prepend||v.append,[S.m("prefix")]:v.prefix||h.prefixIcon,[S.m("suffix")]:v.suffix||h.suffixIcon||h.clearable||h.showPassword,[S.bm("suffix","password-clear")]:te.value&&ie.value,[S.b("hidden")]:"hidden"===h.type},p.class])),g=(0,n.EW)((()=>[S.e("wrapper"),S.is("focus",j.value)])),{form:y,formItem:x}=(0,V.j)(),{inputId:R}=(0,V.W)(h,{formItemContext:x}),E=(0,D.NV)(),k=(0,D.CB)(),S=(0,_.DU)("input"),P=(0,_.DU)("textarea"),M=(0,o.IJ)(),L=(0,o.IJ)(),W=(0,o.KR)(!1),B=(0,o.KR)(!1),$=(0,o.KR)(),X=(0,o.IJ)(h.inputStyle),z=(0,n.EW)((()=>M.value||L.value)),{wrapperRef:U,isFocused:j,handleFocus:K,handleBlur:Y}=I(z,{beforeFocus(){return k.value},afterBlur(){var e;h.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"blur").catch((e=>(0,T.U)(e))))}}),Q=(0,n.EW)((()=>{var e;return null!=(e=null==y?void 0:y.statusIcon)&&e})),G=(0,n.EW)((()=>(null==x?void 0:x.validateState)||"")),q=(0,n.EW)((()=>G.value&&w.vK[G.value])),H=(0,n.EW)((()=>B.value?c.Ss2:c.LdN)),J=(0,n.EW)((()=>[p.style])),Z=(0,n.EW)((()=>[h.inputStyle,X.value,{resize:h.resize}])),ee=(0,n.EW)((()=>(0,l.A)(h.modelValue)?"":String(h.modelValue))),te=(0,n.EW)((()=>h.clearable&&!k.value&&!h.readonly&&!!ee.value&&(j.value||W.value))),ie=(0,n.EW)((()=>h.showPassword&&!k.value&&!!ee.value&&(!!ee.value||j.value))),ne=(0,n.EW)((()=>h.showWordLimit&&!!h.maxlength&&("text"===h.type||"textarea"===h.type)&&!k.value&&!h.readonly&&!h.showPassword)),oe=(0,n.EW)((()=>ee.value.length)),ae=(0,n.EW)((()=>!!ne.value&&oe.value>Number(h.maxlength))),re=(0,n.EW)((()=>!!v.suffix||!!h.suffixIcon||te.value||h.showPassword||ne.value||!!G.value&&Q.value)),[se,le]=F(M);(0,s.wYm)(L,(e=>{if(ce(),!ne.value||"both"!==h.resize)return;const t=e[0],{width:i}=t.contentRect;$.value={right:`calc(100% - ${i+15+6}px)`}}));const ue=()=>{const{type:e,autosize:t}=h;if(u.oc&&"textarea"===e&&L.value)if(t){const e=(0,a.Gv)(t)?t.minRows:void 0,i=(0,a.Gv)(t)?t.maxRows:void 0,o=b(L.value,e,i);X.value={overflowY:"hidden",...o},(0,n.dY)((()=>{L.value.offsetHeight,X.value=o}))}else X.value={minHeight:b(L.value).minHeight}},de=e=>{let t=!1;return()=>{var i;if(t||!h.autosize)return;const n=null===(null==(i=L.value)?void 0:i.offsetParent);n||(e(),t=!0)}},ce=de(ue),he=()=>{const e=z.value,t=h.formatter?h.formatter(ee.value):ee.value;e&&e.value!==t&&(e.value=t)},pe=async e=>{se();let{value:t}=e.target;h.formatter&&h.parser&&(t=h.parser(t)),ve.value||(t!==ee.value?(i(C.l4,t),i(C.qs,t),await(0,n.dY)(),he(),le()):he())},me=e=>{let{value:t}=e.target;h.formatter&&h.parser&&(t=h.parser(t)),i(C.YU,t)},{isComposing:ve,handleCompositionStart:fe,handleCompositionUpdate:ge,handleCompositionEnd:be}=A({emit:i,afterComposition:pe}),ye=()=>{se(),B.value=!B.value,setTimeout(le)},we=()=>{var e;return null==(e=z.value)?void 0:e.focus()},xe=()=>{var e;return null==(e=z.value)?void 0:e.blur()},Re=e=>{W.value=!1,i("mouseleave",e)},Ce=e=>{W.value=!0,i("mouseenter",e)},Ee=e=>{i("keydown",e)},ke=()=>{var e;null==(e=z.value)||e.select()},Se=()=>{i(C.l4,""),i(C.YU,""),i("clear"),i(C.qs,"")};return(0,n.wB)((()=>h.modelValue),(()=>{var e;(0,n.dY)((()=>ue())),h.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"change").catch((e=>(0,T.U)(e))))})),(0,n.wB)(ee,(()=>he())),(0,n.wB)((()=>h.type),(async()=>{await(0,n.dY)(),he(),ue()})),(0,n.sV)((()=>{!h.formatter&&h.parser&&(0,T.U)(O,"If you set the parser, you also need to set the formatter."),he(),(0,n.dY)(ue)})),t({input:M,textarea:L,ref:z,textareaStyle:Z,autosize:(0,o.lW)(h,"autosize"),isComposing:ve,focus:we,blur:xe,select:ke,clear:Se,resizeTextarea:ue}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)([(0,o.R1)(f),{[(0,o.R1)(S).bm("group","append")]:e.$slots.append,[(0,o.R1)(S).bm("group","prepend")]:e.$slots.prepend}]),style:(0,a.Tr)((0,o.R1)(J)),onMouseenter:Ce,onMouseleave:Re},[(0,n.Q3)(" input "),"textarea"!==e.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Q3)(" prepend slot "),e.$slots.prepend?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,a.C4)((0,o.R1)(S).be("group","prepend"))},[(0,n.RG)(e.$slots,"prepend")],2)):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",{ref_key:"wrapperRef",ref:U,class:(0,a.C4)((0,o.R1)(g))},[(0,n.Q3)(" prefix slot "),e.$slots.prefix||e.prefixIcon?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,a.C4)((0,o.R1)(S).e("prefix"))},[(0,n.Lk)("span",{class:(0,a.C4)((0,o.R1)(S).e("prefix-inner"))},[(0,n.RG)(e.$slots,"prefix"),e.prefixIcon?((0,n.uX)(),(0,n.Wv)((0,o.R1)(d.tk),{key:0,class:(0,a.C4)((0,o.R1)(S).e("icon"))},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.prefixIcon)))])),_:1},8,["class"])):(0,n.Q3)("v-if",!0)],2)],2)):(0,n.Q3)("v-if",!0),(0,n.Lk)("input",(0,n.v6)({id:(0,o.R1)(R),ref_key:"input",ref:M,class:(0,o.R1)(S).e("inner")},(0,o.R1)(m),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?B.value?"text":"password":e.type,disabled:(0,o.R1)(k),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:(0,o.R1)(fe),onCompositionupdate:(0,o.R1)(ge),onCompositionend:(0,o.R1)(be),onInput:pe,onChange:me,onKeydown:Ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),(0,n.Q3)(" suffix slot "),(0,o.R1)(re)?((0,n.uX)(),(0,n.CE)("span",{key:1,class:(0,a.C4)((0,o.R1)(S).e("suffix"))},[(0,n.Lk)("span",{class:(0,a.C4)((0,o.R1)(S).e("suffix-inner"))},[(0,o.R1)(te)&&(0,o.R1)(ie)&&(0,o.R1)(ne)?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.RG)(e.$slots,"suffix"),e.suffixIcon?((0,n.uX)(),(0,n.Wv)((0,o.R1)(d.tk),{key:0,class:(0,a.C4)((0,o.R1)(S).e("icon"))},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.suffixIcon)))])),_:1},8,["class"])):(0,n.Q3)("v-if",!0)],64)),(0,o.R1)(te)?((0,n.uX)(),(0,n.Wv)((0,o.R1)(d.tk),{key:1,class:(0,a.C4)([(0,o.R1)(S).e("icon"),(0,o.R1)(S).e("clear")]),onMousedown:(0,r.D$)((0,o.R1)(a.tE),["prevent"]),onClick:Se},{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(c.R$5))])),_:1},8,["class","onMousedown"])):(0,n.Q3)("v-if",!0),(0,o.R1)(ie)?((0,n.uX)(),(0,n.Wv)((0,o.R1)(d.tk),{key:2,class:(0,a.C4)([(0,o.R1)(S).e("icon"),(0,o.R1)(S).e("password")]),onClick:ye},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)((0,o.R1)(H))))])),_:1},8,["class"])):(0,n.Q3)("v-if",!0),(0,o.R1)(ne)?((0,n.uX)(),(0,n.CE)("span",{key:3,class:(0,a.C4)((0,o.R1)(S).e("count"))},[(0,n.Lk)("span",{class:(0,a.C4)((0,o.R1)(S).e("count-inner"))},(0,a.v_)((0,o.R1)(oe))+" / "+(0,a.v_)(e.maxlength),3)],2)):(0,n.Q3)("v-if",!0),(0,o.R1)(G)&&(0,o.R1)(q)&&(0,o.R1)(Q)?((0,n.uX)(),(0,n.Wv)((0,o.R1)(d.tk),{key:4,class:(0,a.C4)([(0,o.R1)(S).e("icon"),(0,o.R1)(S).e("validateIcon"),(0,o.R1)(S).is("loading","validating"===(0,o.R1)(G))])},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)((0,o.R1)(q))))])),_:1},8,["class"])):(0,n.Q3)("v-if",!0)],2)],2)):(0,n.Q3)("v-if",!0)],2),(0,n.Q3)(" append slot "),e.$slots.append?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,a.C4)((0,o.R1)(S).be("group","append"))},[(0,n.RG)(e.$slots,"append")],2)):(0,n.Q3)("v-if",!0)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Q3)(" textarea "),(0,n.Lk)("textarea",(0,n.v6)({id:(0,o.R1)(R),ref_key:"textarea",ref:L,class:[(0,o.R1)(P).e("inner"),(0,o.R1)(S).is("focus",(0,o.R1)(j))]},(0,o.R1)(m),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:(0,o.R1)(k),readonly:e.readonly,autocomplete:e.autocomplete,style:(0,o.R1)(Z),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:(0,o.R1)(fe),onCompositionupdate:(0,o.R1)(ge),onCompositionend:(0,o.R1)(be),onInput:pe,onFocus:(0,o.R1)(K),onBlur:(0,o.R1)(Y),onChange:me,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),(0,o.R1)(ne)?((0,n.uX)(),(0,n.CE)("span",{key:0,style:(0,a.Tr)($.value),class:(0,a.C4)((0,o.R1)(S).e("count"))},(0,a.v_)((0,o.R1)(oe))+" / "+(0,a.v_)(e.maxlength),7)):(0,n.Q3)("v-if",!0)],64))],38))}});var z=(0,P.A)(X,[["__file","input.vue"]]),U=i(4769);const j=(0,U.GU)(z),K=(0,E.b_)({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:y.mU,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||(0,p.Et)(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...(0,R.l)(["ariaLabel"])}),Y={[C.YU]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[C.qs]:e=>(0,p.Et)(e)||(0,l.A)(e),[C.l4]:e=>(0,p.Et)(e)||(0,l.A)(e)},Q=100,G=600,q={beforeMount(e,t){const i=t.value,{interval:n=Q,delay:o=G}=(0,a.Tn)(i)?{}:i;let r,s;const l=()=>(0,a.Tn)(i)?i():i.handler(),u=()=>{s&&(clearTimeout(s),s=void 0),r&&(clearInterval(r),r=void 0)};e.addEventListener("mousedown",(e=>{0===e.button&&(u(),l(),document.addEventListener("mouseup",(()=>u()),{once:!0}),s=setTimeout((()=>{r=setInterval((()=>{l()}),n)}),o))}))}};var H=i(6318);function J(e,t,i){var n=null==e?void 0:(0,H.A)(e,t);return void 0===n?i:n}var Z=J,ee={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const te=e=>(t,i)=>ie(t,i,(0,o.R1)(e)),ie=(e,t,i)=>Z(i,e,e).replace(/\{(\w+)\}/g,((e,i)=>{var n;return`${null!=(n=null==t?void 0:t[i])?n:`{${i}}`}`})),ne=e=>{const t=(0,n.EW)((()=>(0,o.R1)(e).name)),i=(0,o.i9)(e)?e:(0,o.KR)(e);return{lang:t,locale:i,t:te(e)}},oe=Symbol("localeContextKey"),ae=e=>{const t=e||(0,n.WQ)(oe,(0,o.KR)());return ne((0,n.EW)((()=>t.value||ee)))},re=(0,n.pM)({name:"ElInputNumber"}),se=(0,n.pM)({...re,props:K,emits:Y,setup(e,{expose:t,emit:i}){const s=e,{t:u}=ae(),m=(0,_.DU)("input-number"),v=(0,o.KR)(),f=(0,o.Kh)({currentValue:s.modelValue,userInput:null}),{formItem:g}=(0,V.j)(),b=(0,n.EW)((()=>(0,p.Et)(s.modelValue)&&s.modelValue<=s.min)),y=(0,n.EW)((()=>(0,p.Et)(s.modelValue)&&s.modelValue>=s.max)),w=(0,n.EW)((()=>{const e=P(s.step);return(0,p.b0)(s.precision)?Math.max(P(s.modelValue),e):(e>s.precision&&(0,T.U)("InputNumber","precision should not be less than the decimal places of step"),s.precision)})),x=(0,n.EW)((()=>s.controls&&"right"===s.controlsPosition)),R=(0,D.NV)(),E=(0,D.CB)(),k=(0,n.EW)((()=>{if(null!==f.userInput)return f.userInput;let e=f.currentValue;if((0,l.A)(e))return"";if((0,p.Et)(e)){if(Number.isNaN(e))return"";(0,p.b0)(s.precision)||(e=e.toFixed(s.precision))}return e})),S=(e,t)=>{if((0,p.b0)(t)&&(t=w.value),0===t)return Math.round(e);let i=String(e);const n=i.indexOf(".");if(-1===n)return e;const o=i.replace(".","").split(""),a=o[n+t];if(!a)return e;const r=i.length;return"5"===i.charAt(r-1)&&(i=`${i.slice(0,Math.max(0,r-1))}6`),Number.parseFloat(Number(i).toFixed(t))},P=e=>{if((0,l.A)(e))return 0;const t=e.toString(),i=t.indexOf(".");let n=0;return-1!==i&&(n=t.length-i-1),n},M=(e,t=1)=>(0,p.Et)(e)?S(e+s.step*t):f.currentValue,L=()=>{if(s.readonly||E.value||y.value)return;const e=Number(k.value)||0,t=M(e);I(t),i(C.qs,f.currentValue),z()},W=()=>{if(s.readonly||E.value||b.value)return;const e=Number(k.value)||0,t=M(e,-1);I(t),i(C.qs,f.currentValue),z()},N=(e,t)=>{const{max:n,min:o,step:r,precision:u,stepStrictly:d,valueOnClear:c}=s;n<o&&(0,T.$)("InputNumber","min should not be greater than max.");let h=Number(e);if((0,l.A)(e)||Number.isNaN(h))return null;if(""===e){if(null===c)return null;h=(0,a.Kg)(c)?{min:o,max:n}[c]:c}return d&&(h=S(Math.round(h/r)*r,u),h!==e&&t&&i(C.l4,h)),(0,p.b0)(u)||(h=S(h,u)),(h>n||h<o)&&(h=h>n?n:o,t&&i(C.l4,h)),h},I=(e,t=!0)=>{var n;const o=f.currentValue,a=N(e);t?o===a&&e||(f.userInput=null,i(C.l4,a),o!==a&&i(C.YU,a,o),s.validateEvent&&(null==(n=null==g?void 0:g.validate)||n.call(g,"change").catch((e=>(0,T.U)(e)))),f.currentValue=a):i(C.l4,a)},B=e=>{f.userInput=e;const t=""===e?null:Number(e);i(C.qs,t),I(t,!1)},A=e=>{const t=""!==e?Number(e):"";((0,p.Et)(t)&&!Number.isNaN(t)||""===e)&&I(t),z(),f.userInput=null},F=()=>{var e,t;null==(t=null==(e=v.value)?void 0:e.focus)||t.call(e)},O=()=>{var e,t;null==(t=null==(e=v.value)?void 0:e.blur)||t.call(e)},$=e=>{i("focus",e)},X=e=>{var t,n;f.userInput=null,h()&&null===f.currentValue&&(null==(t=v.value)?void 0:t.input)&&(v.value.input.value=""),i("blur",e),s.validateEvent&&(null==(n=null==g?void 0:g.validate)||n.call(g,"blur").catch((e=>(0,T.U)(e))))},z=()=>{f.currentValue!==s.modelValue&&(f.currentValue=s.modelValue)},U=e=>{document.activeElement===e.target&&e.preventDefault()};return(0,n.wB)((()=>s.modelValue),((e,t)=>{const i=N(e,!0);null===f.userInput&&i!==t&&(f.currentValue=i)}),{immediate:!0}),(0,n.sV)((()=>{var e;const{min:t,max:n,modelValue:o}=s,a=null==(e=v.value)?void 0:e.input;if(a.setAttribute("role","spinbutton"),Number.isFinite(n)?a.setAttribute("aria-valuemax",String(n)):a.removeAttribute("aria-valuemax"),Number.isFinite(t)?a.setAttribute("aria-valuemin",String(t)):a.removeAttribute("aria-valuemin"),a.setAttribute("aria-valuenow",f.currentValue||0===f.currentValue?String(f.currentValue):""),a.setAttribute("aria-disabled",String(E.value)),!(0,p.Et)(o)&&null!=o){let e=Number(o);Number.isNaN(e)&&(e=null),i(C.l4,e)}a.addEventListener("wheel",U,{passive:!1})})),(0,n.$u)((()=>{var e,t;const i=null==(e=v.value)?void 0:e.input;null==i||i.setAttribute("aria-valuenow",`${null!=(t=f.currentValue)?t:""}`)})),t({focus:F,blur:O}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)([(0,o.R1)(m).b(),(0,o.R1)(m).m((0,o.R1)(R)),(0,o.R1)(m).is("disabled",(0,o.R1)(E)),(0,o.R1)(m).is("without-controls",!e.controls),(0,o.R1)(m).is("controls-right",(0,o.R1)(x))]),onDragstart:(0,r.D$)((()=>{}),["prevent"])},[e.controls?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:0,role:"button","aria-label":(0,o.R1)(u)("el.inputNumber.decrease"),class:(0,a.C4)([(0,o.R1)(m).e("decrease"),(0,o.R1)(m).is("disabled",(0,o.R1)(b))]),onKeydown:(0,r.jR)(W,["enter"])},[(0,n.RG)(e.$slots,"decrease-icon",{},(()=>[(0,n.bF)((0,o.R1)(d.tk),null,{default:(0,n.k6)((()=>[(0,o.R1)(x)?((0,n.uX)(),(0,n.Wv)((0,o.R1)(c.yd$),{key:0})):((0,n.uX)(),(0,n.Wv)((0,o.R1)(c.Hsy),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[(0,o.R1)(q),W]]):(0,n.Q3)("v-if",!0),e.controls?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:1,role:"button","aria-label":(0,o.R1)(u)("el.inputNumber.increase"),class:(0,a.C4)([(0,o.R1)(m).e("increase"),(0,o.R1)(m).is("disabled",(0,o.R1)(y))]),onKeydown:(0,r.jR)(L,["enter"])},[(0,n.RG)(e.$slots,"increase-icon",{},(()=>[(0,n.bF)((0,o.R1)(d.tk),null,{default:(0,n.k6)((()=>[(0,o.R1)(x)?((0,n.uX)(),(0,n.Wv)((0,o.R1)(c.DoI),{key:0})):((0,n.uX)(),(0,n.Wv)((0,o.R1)(c.FWt),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[(0,o.R1)(q),L]]):(0,n.Q3)("v-if",!0),(0,n.bF)((0,o.R1)(j),{id:e.id,ref_key:"input",ref:v,type:"number",step:e.step,"model-value":(0,o.R1)(k),placeholder:e.placeholder,readonly:e.readonly,disabled:(0,o.R1)(E),size:(0,o.R1)(R),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[(0,r.jR)((0,r.D$)(L,["prevent"]),["up"]),(0,r.jR)((0,r.D$)(W,["prevent"]),["down"])],onBlur:X,onFocus:$,onInput:B,onChange:A},(0,n.eX)({_:2},[e.$slots.prefix?{name:"prefix",fn:(0,n.k6)((()=>[(0,n.RG)(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:(0,n.k6)((()=>[(0,n.RG)(e.$slots,"suffix")]))}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var le=(0,P.A)(se,[["__file","input-number.vue"]]);const ue=(0,U.GU)(le),de=Symbol("sliderContextKey");var ce=i(1537);const he=(0,E.b_)({modelValue:{type:(0,E.jq)([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:y.mU,inputSize:y.mU,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:(0,E.jq)(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:(0,E.jq)(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ce.DD,default:"top"},marks:{type:(0,E.jq)(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...(0,R.l)(["ariaLabel"])}),pe=e=>(0,p.Et)(e)||(0,a.cy)(e)&&e.every(p.Et),me={[C.l4]:pe,[C.qs]:pe,[C.YU]:pe};var ve=i(5288);const fe=(0,E.b_)({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ce.DD,default:"top"}}),ge={[C.l4]:e=>(0,p.Et)(e)};var be=i(3149),ye=i(1951),we=function(){return ye.A.Date.now()},xe=we,Re=/\s/;function Ce(e){var t=e.length;while(t--&&Re.test(e.charAt(t)));return t}var Ee=Ce,ke=/^\s+/;function Se(e){return e?e.slice(0,Ee(e)+1).replace(ke,""):e}var Pe=Se,Me=i(1882),Te=NaN,Le=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,Ve=parseInt;function De(e){if("number"==typeof e)return e;if((0,Me.A)(e))return Te;if((0,be.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,be.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pe(e);var i=We.test(e);return i||Ne.test(e)?Ve(e.slice(2),i?2:8):Le.test(e)?Te:+e}var Ie=De,Be="Expected a function",Ae=Math.max,Fe=Math.min;function _e(e,t,i){var n,o,a,r,s,l,u=0,d=!1,c=!1,h=!0;if("function"!=typeof e)throw new TypeError(Be);function p(t){var i=n,a=o;return n=o=void 0,u=t,r=e.apply(a,i),r}function m(e){return u=e,s=setTimeout(g,t),d?p(e):r}function v(e){var i=e-l,n=e-u,o=t-i;return c?Fe(o,a-n):o}function f(e){var i=e-l,n=e-u;return void 0===l||i>=t||i<0||c&&n>=a}function g(){var e=xe();if(f(e))return b(e);s=setTimeout(g,v(e))}function b(e){return s=void 0,h&&n?p(e):(n=o=void 0,r)}function y(){void 0!==s&&clearTimeout(s),u=0,n=l=o=s=void 0}function w(){return void 0===s?r:b(xe())}function x(){var e=xe(),i=f(e);if(n=arguments,o=this,l=e,i){if(void 0===s)return m(l);if(c)return clearTimeout(s),s=setTimeout(g,t),p(l)}return void 0===s&&(s=setTimeout(g,t)),r}return t=Ie(t)||0,(0,be.A)(i)&&(d=!!i.leading,c="maxWait"in i,a=c?Ae(Ie(i.maxWait)||0,t):a,h="trailing"in i?!!i.trailing:h),x.cancel=y,x.flush=w,x}var Oe=_e,$e=i(3344);const Xe=(e,t,i)=>{const a=(0,o.KR)(),r=(0,o.KR)(!1),s=(0,n.EW)((()=>t.value instanceof Function)),l=(0,n.EW)((()=>s.value&&t.value(e.modelValue)||e.modelValue)),u=Oe((()=>{i.value&&(r.value=!0)}),50),d=Oe((()=>{i.value&&(r.value=!1)}),50);return{tooltip:a,tooltipVisible:r,formatValue:l,displayTooltip:u,hideTooltip:d}},ze=(e,t,i)=>{const{disabled:a,min:r,max:l,step:u,showTooltip:d,persistent:c,precision:h,sliderSize:p,formatTooltip:m,emitChange:v,resetSize:f,updateDragging:g}=(0,n.WQ)(de),{tooltip:b,tooltipVisible:y,formatValue:w,displayTooltip:x,hideTooltip:R}=Xe(e,m,d),E=(0,o.KR)(),k=(0,n.EW)((()=>(e.modelValue-r.value)/(l.value-r.value)*100+"%")),S=(0,n.EW)((()=>e.vertical?{bottom:k.value}:{left:k.value})),P=()=>{t.hovering=!0,x()},M=()=>{t.hovering=!1,t.dragging||R()},T=e=>{a.value||(e.preventDefault(),_(e),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),window.addEventListener("contextmenu",$),E.value.focus())},L=e=>{a.value||(t.newPosition=Number.parseFloat(k.value)+e/(l.value-r.value)*100,X(t.newPosition),v())},W=()=>{L(-u.value)},N=()=>{L(u.value)},V=()=>{L(4*-u.value)},D=()=>{L(4*u.value)},I=()=>{a.value||(X(0),v())},B=()=>{a.value||(X(100),v())},A=e=>{let t=!0;switch(e.code){case $e.R.left:case $e.R.down:W();break;case $e.R.right:case $e.R.up:N();break;case $e.R.home:I();break;case $e.R.end:B();break;case $e.R.pageDown:V();break;case $e.R.pageUp:D();break;default:t=!1;break}t&&e.preventDefault()},F=e=>{let t,i;return e.type.startsWith("touch")?(i=e.touches[0].clientY,t=e.touches[0].clientX):(i=e.clientY,t=e.clientX),{clientX:t,clientY:i}},_=i=>{t.dragging=!0,t.isClick=!0;const{clientX:n,clientY:o}=F(i);e.vertical?t.startY=o:t.startX=n,t.startPosition=Number.parseFloat(k.value),t.newPosition=t.startPosition},O=i=>{if(t.dragging){let n;t.isClick=!1,x(),f();const{clientX:o,clientY:a}=F(i);e.vertical?(t.currentY=a,n=(t.startY-t.currentY)/p.value*100):(t.currentX=o,n=(t.currentX-t.startX)/p.value*100),t.newPosition=t.startPosition+n,X(t.newPosition)}},$=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||R(),t.isClick||X(t.newPosition),v()}),0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$),window.removeEventListener("contextmenu",$))},X=async o=>{if(null===o||Number.isNaN(+o))return;o<0?o=0:o>100&&(o=100);const a=100/((l.value-r.value)/u.value),s=Math.round(o/a);let d=s*a*(l.value-r.value)*.01+r.value;d=Number.parseFloat(d.toFixed(h.value)),d!==e.modelValue&&i(C.l4,d),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await(0,n.dY)(),t.dragging&&x(),b.value.updatePopper()};return(0,n.wB)((()=>t.dragging),(e=>{g(e)})),(0,s.MLh)(E,"touchstart",T,{passive:!1}),{disabled:a,button:E,tooltip:b,tooltipVisible:y,showTooltip:d,persistent:c,wrapperStyle:S,formatValue:w,handleMouseEnter:P,handleMouseLeave:M,onButtonDown:T,onKeyDown:A,setPosition:X}},Ue=(0,n.pM)({name:"ElSliderButton"}),je=(0,n.pM)({...Ue,props:fe,emits:ge,setup(e,{expose:t,emit:i}){const r=e,s=(0,_.DU)("slider"),l=(0,o.Kh)({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),u=(0,n.EW)((()=>!!p.value&&m.value)),{disabled:d,button:c,tooltip:h,showTooltip:p,persistent:m,tooltipVisible:v,wrapperStyle:f,formatValue:g,handleMouseEnter:b,handleMouseLeave:y,onButtonDown:w,onKeyDown:x,setPosition:R}=ze(r,l,i),{hovering:C,dragging:E}=(0,o.QW)(l);return t({onButtonDown:w,onKeyDown:x,setPosition:R,hovering:C,dragging:E}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"button",ref:c,class:(0,a.C4)([(0,o.R1)(s).e("button-wrapper"),{hover:(0,o.R1)(C),dragging:(0,o.R1)(E)}]),style:(0,a.Tr)((0,o.R1)(f)),tabindex:(0,o.R1)(d)?-1:0,onMouseenter:(0,o.R1)(b),onMouseleave:(0,o.R1)(y),onMousedown:(0,o.R1)(w),onFocus:(0,o.R1)(b),onBlur:(0,o.R1)(y),onKeydown:(0,o.R1)(x)},[(0,n.bF)((0,o.R1)(ve.R7),{ref_key:"tooltip",ref:h,visible:(0,o.R1)(v),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!(0,o.R1)(p),persistent:(0,o.R1)(u)},{content:(0,n.k6)((()=>[(0,n.Lk)("span",null,(0,a.v_)((0,o.R1)(g)),1)])),default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:(0,a.C4)([(0,o.R1)(s).e("button"),{hover:(0,o.R1)(C),dragging:(0,o.R1)(E)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Ke=(0,P.A)(je,[["__file","button.vue"]]);const Ye=(0,E.b_)({mark:{type:(0,E.jq)([String,Object]),default:void 0}});var Qe=(0,n.pM)({name:"ElSliderMarker",props:Ye,setup(e){const t=(0,_.DU)("slider"),i=(0,n.EW)((()=>(0,a.Kg)(e.mark)?e.mark:e.mark.label)),o=(0,n.EW)((()=>(0,a.Kg)(e.mark)?void 0:e.mark.style));return()=>(0,n.h)("div",{class:t.e("marks-text"),style:o.value},i.value)}});const Ge=(e,t,i)=>{const{form:a,formItem:r}=(0,V.j)(),s=(0,o.IJ)(),l=(0,o.KR)(),u=(0,o.KR)(),d={firstButton:l,secondButton:u},c=(0,n.EW)((()=>e.disabled||(null==a?void 0:a.disabled)||!1)),h=(0,n.EW)((()=>Math.min(t.firstValue,t.secondValue))),p=(0,n.EW)((()=>Math.max(t.firstValue,t.secondValue))),m=(0,n.EW)((()=>e.range?100*(p.value-h.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),v=(0,n.EW)((()=>e.range?100*(h.value-e.min)/(e.max-e.min)+"%":"0%")),f=(0,n.EW)((()=>e.vertical?{height:e.height}:{})),g=(0,n.EW)((()=>e.vertical?{height:m.value,bottom:v.value}:{width:m.value,left:v.value})),b=()=>{s.value&&(t.sliderSize=s.value["client"+(e.vertical?"Height":"Width")])},y=i=>{const n=e.min+i*(e.max-e.min)/100;if(!e.range)return l;let o;return o=Math.abs(h.value-n)<Math.abs(p.value-n)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",d[o]},w=e=>{const t=y(e);return t.value.setPosition(e),t},x=i=>{t.firstValue=null!=i?i:e.min,E(e.range?[h.value,p.value]:null!=i?i:e.min)},R=i=>{t.secondValue=i,e.range&&E([h.value,p.value])},E=e=>{i(C.l4,e),i(C.qs,e)},k=async()=>{await(0,n.dY)(),i(C.YU,e.range?[h.value,p.value]:e.modelValue)},S=i=>{var n,o,a,r,l,u;if(c.value||t.dragging)return;b();let d=0;if(e.vertical){const e=null!=(a=null==(o=null==(n=i.touches)?void 0:n.item(0))?void 0:o.clientY)?a:i.clientY,r=s.value.getBoundingClientRect().bottom;d=(r-e)/t.sliderSize*100}else{const e=null!=(u=null==(l=null==(r=i.touches)?void 0:r.item(0))?void 0:l.clientX)?u:i.clientX,n=s.value.getBoundingClientRect().left;d=(e-n)/t.sliderSize*100}return d<0||d>100?void 0:w(d)},P=e=>{var t,i;((null==(t=d["firstButton"].value)?void 0:t.dragging)||(null==(i=d["secondButton"].value)?void 0:i.dragging))&&e.preventDefault()},M=async e=>{const t=S(e);t&&(await(0,n.dY)(),t.value.onButtonDown(e))},T=e=>{const t=S(e);t&&k()},L=e=>{c.value||t.dragging||w(e)};return{elFormItem:r,slider:s,firstButton:l,secondButton:u,sliderDisabled:c,minValue:h,maxValue:p,runwayStyle:f,barStyle:g,resetSize:b,setPosition:w,emitChange:k,onSliderWrapperPrevent:P,onSliderClick:T,onSliderDown:M,onSliderMarkerDown:L,setFirstValue:x,setSecondValue:R}},qe=(e,t,i,o)=>{const a=(0,n.EW)((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return(0,T.U)("ElSlider","step should not be 0."),[];const n=(e.max-e.min)/e.step,a=100*e.step/(e.max-e.min),r=Array.from({length:n-1}).map(((e,t)=>(t+1)*a));return e.range?r.filter((t=>t<100*(i.value-e.min)/(e.max-e.min)||t>100*(o.value-e.min)/(e.max-e.min))):r.filter((i=>i>100*(t.firstValue-e.min)/(e.max-e.min)))})),r=t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`};return{stops:a,getStopStyle:r}},He=e=>(0,n.EW)((()=>{if(!e.marks)return[];const t=Object.keys(e.marks);return t.map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]})))})),Je=(e,t,i,o,r,s)=>{const l=e=>{r(C.l4,e),r(C.qs,e)},u=()=>e.range?![i.value,o.value].every(((e,i)=>e===t.oldValue[i])):e.modelValue!==t.oldValue,d=()=>{var i,n;e.min>e.max&&(0,T.$)("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&(0,a.cy)(o)?o[1]<e.min?l([e.min,e.min]):o[0]>e.max?l([e.max,e.max]):o[0]<e.min?l([e.min,o[1]]):o[1]>e.max?l([o[0],e.max]):(t.firstValue=o[0],t.secondValue=o[1],u()&&(e.validateEvent&&(null==(i=null==s?void 0:s.validate)||i.call(s,"change").catch((e=>(0,T.U)(e)))),t.oldValue=o.slice())):e.range||!(0,p.Et)(o)||Number.isNaN(o)||(o<e.min?l(e.min):o>e.max?l(e.max):(t.firstValue=o,u()&&(e.validateEvent&&(null==(n=null==s?void 0:s.validate)||n.call(s,"change").catch((e=>(0,T.U)(e)))),t.oldValue=o)))};d(),(0,n.wB)((()=>t.dragging),(e=>{e||d()})),(0,n.wB)((()=>e.modelValue),((e,i)=>{t.dragging||(0,a.cy)(e)&&(0,a.cy)(i)&&e.every(((e,t)=>e===i[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||d()}),{deep:!0}),(0,n.wB)((()=>[e.min,e.max]),(()=>{d()}))},Ze=(e,t,i)=>{const r=(0,o.KR)();return(0,n.sV)((async()=>{e.range?((0,a.cy)(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!(0,p.Et)(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),(0,s.MLh)(window,"resize",i),await(0,n.dY)(),i()})),{sliderWrapper:r}},et=(0,n.pM)({name:"ElSlider"}),tt=(0,n.pM)({...et,props:he,emits:me,setup(e,{expose:t,emit:i}){const l=e,u=(0,_.DU)("slider"),{t:d}=ae(),c=(0,o.Kh)({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:p,firstButton:m,secondButton:v,sliderDisabled:f,minValue:g,maxValue:b,runwayStyle:y,barStyle:w,resetSize:x,emitChange:R,onSliderWrapperPrevent:C,onSliderClick:E,onSliderDown:k,onSliderMarkerDown:S,setFirstValue:P,setSecondValue:M}=Ge(l,c,i),{stops:T,getStopStyle:L}=qe(l,c,g,b),{inputId:W,isLabeledByFormItem:N}=(0,V.W)(l,{formItemContext:h}),I=(0,D.NV)(),B=(0,n.EW)((()=>l.inputSize||I.value)),A=(0,n.EW)((()=>l.ariaLabel||d("el.slider.defaultLabel",{min:l.min,max:l.max}))),F=(0,n.EW)((()=>l.range?l.rangeStartLabel||d("el.slider.defaultRangeStartLabel"):A.value)),O=(0,n.EW)((()=>l.formatValueText?l.formatValueText(Y.value):`${Y.value}`)),$=(0,n.EW)((()=>l.rangeEndLabel||d("el.slider.defaultRangeEndLabel"))),X=(0,n.EW)((()=>l.formatValueText?l.formatValueText(Q.value):`${Q.value}`)),z=(0,n.EW)((()=>[u.b(),u.m(I.value),u.is("vertical",l.vertical),{[u.m("with-input")]:l.showInput}])),U=He(l);Je(l,c,g,b,i,h);const j=(0,n.EW)((()=>{const e=[l.min,l.max,l.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:K}=Ze(l,c,x),{firstValue:Y,secondValue:Q,sliderSize:G}=(0,o.QW)(c),q=e=>{c.dragging=e};return(0,s.MLh)(K,"touchstart",C,{passive:!1}),(0,s.MLh)(K,"touchmove",C,{passive:!1}),(0,n.Gt)(de,{...(0,o.QW)(l),sliderSize:G,disabled:f,precision:j,emitChange:R,resetSize:x,updateDragging:q}),t({onSliderClick:E}),(e,t)=>{var i,s;return(0,n.uX)(),(0,n.CE)("div",{id:e.range?(0,o.R1)(W):void 0,ref_key:"sliderWrapper",ref:K,class:(0,a.C4)((0,o.R1)(z)),role:e.range?"group":void 0,"aria-label":e.range&&!(0,o.R1)(N)?(0,o.R1)(A):void 0,"aria-labelledby":e.range&&(0,o.R1)(N)?null==(i=(0,o.R1)(h))?void 0:i.labelId:void 0},[(0,n.Lk)("div",{ref_key:"slider",ref:p,class:(0,a.C4)([(0,o.R1)(u).e("runway"),{"show-input":e.showInput&&!e.range},(0,o.R1)(u).is("disabled",(0,o.R1)(f))]),style:(0,a.Tr)((0,o.R1)(y)),onMousedown:(0,o.R1)(k),onTouchstartPassive:(0,o.R1)(k)},[(0,n.Lk)("div",{class:(0,a.C4)((0,o.R1)(u).e("bar")),style:(0,a.Tr)((0,o.R1)(w))},null,6),(0,n.bF)(Ke,{id:e.range?void 0:(0,o.R1)(W),ref_key:"firstButton",ref:m,"model-value":(0,o.R1)(Y),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!(0,o.R1)(N)?(0,o.R1)(F):void 0,"aria-labelledby":!e.range&&(0,o.R1)(N)?null==(s=(0,o.R1)(h))?void 0:s.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?(0,o.R1)(Q):e.max,"aria-valuenow":(0,o.R1)(Y),"aria-valuetext":(0,o.R1)(O),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,o.R1)(f),"onUpdate:modelValue":(0,o.R1)(P)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?((0,n.uX)(),(0,n.Wv)(Ke,{key:0,ref_key:"secondButton",ref:v,"model-value":(0,o.R1)(Q),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":(0,o.R1)($),"aria-valuemin":(0,o.R1)(Y),"aria-valuemax":e.max,"aria-valuenow":(0,o.R1)(Q),"aria-valuetext":(0,o.R1)(X),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,o.R1)(f),"onUpdate:modelValue":(0,o.R1)(M)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):(0,n.Q3)("v-if",!0),e.showStops?((0,n.uX)(),(0,n.CE)("div",{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,o.R1)(T),((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,a.C4)((0,o.R1)(u).e("stop")),style:(0,a.Tr)((0,o.R1)(L)(e))},null,6)))),128))])):(0,n.Q3)("v-if",!0),(0,o.R1)(U).length>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,o.R1)(U),((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,style:(0,a.Tr)((0,o.R1)(L)(e.position)),class:(0,a.C4)([(0,o.R1)(u).e("stop"),(0,o.R1)(u).e("marks-stop")])},null,6)))),128))]),(0,n.Lk)("div",{class:(0,a.C4)((0,o.R1)(u).e("marks"))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,o.R1)(U),((e,t)=>((0,n.uX)(),(0,n.Wv)((0,o.R1)(Qe),{key:t,mark:e.mark,style:(0,a.Tr)((0,o.R1)(L)(e.position)),onMousedown:(0,r.D$)((t=>(0,o.R1)(S)(e.position)),["stop"])},null,8,["mark","style","onMousedown"])))),128))],2)],64)):(0,n.Q3)("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),e.showInput&&!e.range?((0,n.uX)(),(0,n.Wv)((0,o.R1)(ue),{key:0,ref:"input","model-value":(0,o.R1)(Y),class:(0,a.C4)((0,o.R1)(u).e("input")),step:e.step,disabled:(0,o.R1)(f),controls:e.showInputControls,min:e.min,max:e.max,precision:(0,o.R1)(j),debounce:e.debounce,size:(0,o.R1)(B),"onUpdate:modelValue":(0,o.R1)(P),onChange:(0,o.R1)(R)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):(0,n.Q3)("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var it=(0,P.A)(tt,[["__file","slider.vue"]]);const nt=(0,U.GU)(it);i(6422),i(1553);var ot=i(3533);i(9303);const at=(0,E.b_)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,E.jq)(String),default:"solid"}}),rt=(0,n.pM)({name:"ElDivider"}),st=(0,n.pM)({...rt,props:at,setup(e){const t=e,i=(0,_.DU)("divider"),r=(0,n.EW)((()=>i.cssVar({"border-style":t.borderStyle})));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)([(0,o.R1)(i).b(),(0,o.R1)(i).m(e.direction)]),style:(0,a.Tr)((0,o.R1)(r)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,a.C4)([(0,o.R1)(i).e("text"),(0,o.R1)(i).is(e.contentPosition)])},[(0,n.RG)(e.$slots,"default")],2)):(0,n.Q3)("v-if",!0)],6))}});var lt=(0,P.A)(st,[["__file","divider.vue"]]);const ut=(0,U.GU)(lt);var dt=i(4490);i(8635),i(5929);const ct={class:"content-container"},ht={class:"audio-player"},pt={ref:"waveform",class:"waveform"},mt={class:"time"},vt={class:"score-grid"},ft={key:0,class:"audio-list"},gt={class:"file-name"},bt={class:"controls"},yt={key:0,class:"score"};function wt(e,t,i,o,r,s){const l=dt.gc,u=dt.l7,d=ut,c=ot.S2,h=nt;return(0,n.uX)(),(0,n.CE)("div",ct,[(0,n.bF)(u,{class:"test-steps",active:r.stepIndex,"finish-status":"success","align-center":""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.list,(e=>((0,n.uX)(),(0,n.Wv)(l,{key:e.name,title:e.name},null,8,["title"])))),128))])),_:1},8,["active"]),(0,n.Lk)("div",ht,[(0,n.Lk)("div",pt,null,512),(0,n.Lk)("span",mt,(0,a.v_)(s.formatTime(r.currentTime))+" / "+(0,a.v_)(s.formatTime(r.duration)),1),(0,n.Lk)("div",vt,[(0,n.bF)(d,{"border-style":"double"}),t[0]||(t[0]=(0,n.Lk)("span",null,"Excellent",-1)),(0,n.bF)(d,{"border-style":"double"}),t[1]||(t[1]=(0,n.Lk)("span",null,"Good",-1)),(0,n.bF)(d,{"border-style":"double"}),t[2]||(t[2]=(0,n.Lk)("span",null,"Fair",-1)),(0,n.bF)(d,{"border-style":"double"}),t[3]||(t[3]=(0,n.Lk)("span",null,"Poor",-1)),(0,n.bF)(d,{"border-style":"double"}),t[4]||(t[4]=(0,n.Lk)("span",null,"Bad",-1)),(0,n.bF)(d,{"border-style":"double"})]),r.audioList.length?((0,n.uX)(),(0,n.CE)("div",ft,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.audioList,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:e.url,class:"audio-item"},[(0,n.Lk)("div",gt,(0,a.v_)(e.name),1),(0,n.Lk)("div",bt,[(0,n.bF)(c,{onClick:t=>s.togglePlay(e)},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(r.isPlaying&&r.currentPlaying===e.url?"⏸ 暂停":"▶ 播放"),1)])),_:2},1032,["onClick"])]),e.name.includes("reference")?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",yt,[(0,n.bF)(h,{modelValue:e.score,"onUpdate:modelValue":t=>e.score=t,disabled:e.disabled,vertical:"",height:"340px"},null,8,["modelValue","onUpdate:modelValue","disabled"])]))])))),128))])):(0,n.Q3)("",!0)]),(0,n.bF)(c,{disabled:s.nextDisabled,type:"primary",onClick:s.handleNext},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("Next")]))),_:1},8,["disabled","onClick"])])}i(8111),i(116),i(7588),i(1701),i(4603),i(7566),i(8721);function xt(e,t,i,n){return new(i||(i=Promise))((function(o,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((n=n.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class Rt{constructor(){this.listeners={}}on(e,t,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),null==i?void 0:i.once){const i=()=>{this.un(e,i),this.un(e,t)};return this.on(e,i),i}return()=>this.un(e,t)}un(e,t){var i;null===(i=this.listeners[e])||void 0===i||i.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach((e=>e(...t)))}}const Ct={decode:function(e,t){return xt(this,void 0,void 0,(function*(){const i=new AudioContext({sampleRate:t});return i.decodeAudioData(e).finally((()=>i.close()))}))},createBuffer:function(e,t){return"number"==typeof e[0]&&(e=[e]),function(e){const t=e[0];if(t.some((e=>e>1||e<-1))){const i=t.length;let n=0;for(let e=0;e<i;e++){const i=Math.abs(t[e]);i>n&&(n=i)}for(const t of e)for(let e=0;e<i;e++)t[e]/=n}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:t=>null==e?void 0:e[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Et(e,t){const i=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[n,o]of Object.entries(t))if("children"===n)for(const[e,a]of Object.entries(t))"string"==typeof a?i.appendChild(document.createTextNode(a)):i.appendChild(Et(e,a));else"style"===n?Object.assign(i.style,o):"textContent"===n?i.textContent=o:i.setAttribute(n,o.toString());return i}function kt(e,t,i){const n=Et(e,t||{});return null==i||i.appendChild(n),n}var St=Object.freeze({__proto__:null,createElement:kt,default:kt});const Pt={fetchBlob:function(e,t,i){return xt(this,void 0,void 0,(function*(){const n=yield fetch(e,i);if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return function(e,t){xt(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const i=e.body.getReader(),n=Number(e.headers.get("Content-Length"))||0;let o=0;const a=e=>xt(this,void 0,void 0,(function*(){o+=(null==e?void 0:e.length)||0;const i=Math.round(o/n*100);t(i)})),r=()=>xt(this,void 0,void 0,(function*(){let e;try{e=yield i.read()}catch(e){return}e.done||(a(e.value),yield r())}));r()}))}(n.clone(),t),n.blob()}))}};class Mt extends Rt{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),null!=e.playbackRate&&this.onMediaEvent("canplay",(()=>{null!=e.playbackRate&&(this.media.playbackRate=e.playbackRate)}),{once:!0})}onMediaEvent(e,t,i){return this.media.addEventListener(e,t,i),()=>this.media.removeEventListener(e,t,i)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return""!==this.media.canPlayType(e)}setSrc(e,t){const i=this.getSrc();if(e&&i===e)return;this.revokeSrc();const n=t instanceof Blob&&(this.canPlayType(t.type)||!e)?URL.createObjectURL(t):e;i&&(this.media.src="");try{this.media.src=n}catch(t){this.media.src=e}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return xt(this,void 0,void 0,(function*(){return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){null!=t&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class Tt extends Rt{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=e;const i=this.parentFromOptionsContainer(e.container);this.parent=i;const[n,o]=this.initHtml();i.appendChild(n),this.container=n,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),t&&o.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if("string"==typeof e?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=e=>{const t=this.wrapper.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;return[i/t.width,n/t.height]};if(this.wrapper.addEventListener("click",(t=>{const[i,n]=e(t);this.emit("click",i,n)})),this.wrapper.addEventListener("dblclick",(t=>{const[i,n]=e(t);this.emit("dblclick",i,n)})),!0!==this.options.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:i}=this.scrollContainer,n=e/t,o=(e+i)/t;this.emit("scroll",n,o,e,e+i)})),"function"==typeof ResizeObserver){const e=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{e().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&"auto"!==this.options.height||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,t,i,n,o=3,a=0,r=100){if(!e)return()=>{};const s=matchMedia("(pointer: coarse)").matches;let l=()=>{};const u=u=>{if(u.button!==a)return;u.preventDefault(),u.stopPropagation();let d=u.clientX,c=u.clientY,h=!1;const p=Date.now(),m=n=>{if(n.preventDefault(),n.stopPropagation(),s&&Date.now()-p<r)return;const a=n.clientX,l=n.clientY,u=a-d,m=l-c;if(h||Math.abs(u)>o||Math.abs(m)>o){const n=e.getBoundingClientRect(),{left:o,top:r}=n;h||(null==i||i(d-o,c-r),h=!0),t(u,m,a-o,l-r),d=a,c=l}},v=t=>{if(h){const i=t.clientX,o=t.clientY,a=e.getBoundingClientRect(),{left:r,top:s}=a;null==n||n(i-r,o-s)}l()},f=e=>{e.relatedTarget&&e.relatedTarget!==document.documentElement||v(e)},g=e=>{h&&(e.stopPropagation(),e.preventDefault())},b=e=>{h&&e.preventDefault()};document.addEventListener("pointermove",m),document.addEventListener("pointerup",v),document.addEventListener("pointerout",f),document.addEventListener("pointercancel",f),document.addEventListener("touchmove",b,{passive:!1}),document.addEventListener("click",g,{capture:!0}),l=()=>{document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",f),document.removeEventListener("pointercancel",f),document.removeEventListener("touchmove",b),setTimeout((()=>{document.removeEventListener("click",g,{capture:!0})}),10)}};return e.addEventListener("pointerdown",u),()=>{l(),e.removeEventListener("pointerdown",u)}}(this.wrapper,((e,t,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))}),(e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}),(e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))})))}getHeight(e,t){var i;const n=(null===(i=this.audioData)||void 0===i?void 0:i.numberOfChannels)||1;if(null==e)return 128;if(!isNaN(Number(e)))return Number(e);if("auto"===e){const e=this.parent.clientHeight||128;return(null==t?void 0:t.every((e=>!e.overlay)))?e/n:e}return 128}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"}),i=this.options.cspNonce&&"string"==typeof this.options.cspNonce?this.options.cspNonce.replace(/"/g,""):"";return t.innerHTML=`\n      <style${i?` nonce="${i}"`:""}>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class="scroll" part="scroll">\n        <div class="wrapper" part="wrapper">\n          <div class="canvases" part="canvases"></div>\n          <div class="progress" part="progress"></div>\n          <div class="cursor" part="cursor"></div>\n        </div>\n      </div>\n    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}!0!==e.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,i=t*e;this.setScroll(i)}destroy(){var e,t;this.subscriptions.forEach((e=>e())),this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(t=this.unsubscribeOnScroll)||void 0===t||t.forEach((e=>e())),this.unsubscribeOnScroll=[]}createDelay(e=10){let t,i;const n=()=>{t&&clearTimeout(t),i&&i()};return this.timeouts.push(n),()=>new Promise(((o,a)=>{n(),i=a,t=setTimeout((()=>{t=void 0,i=void 0,o()}),e)}))}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),i=t.getContext("2d"),n=t.height*(window.devicePixelRatio||1),o=i.createLinearGradient(0,0,0,n),a=1/(e.length-1);return e.forEach(((e,t)=>{const i=t*a;o.addColorStop(i,e)})),o}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(e,t,i,n){const o=e[0],a=e[1]||e[0],r=o.length,{width:s,height:l}=i.canvas,u=l/2,d=this.getPixelRatio(),c=t.barWidth?t.barWidth*d:1,h=t.barGap?t.barGap*d:t.barWidth?c/2:0,p=t.barRadius||0,m=s/(c+h)/r,v=p&&"roundRect"in i?"roundRect":"rect";i.beginPath();let f=0,g=0,b=0;for(let y=0;y<=r;y++){const e=Math.round(y*m);if(e>f){const o=Math.round(g*u*n),a=o+Math.round(b*u*n)||1;let r=u-o;"top"===t.barAlign?r=0:"bottom"===t.barAlign&&(r=l-a),i[v](f*(c+h),r,c,a,p),f=e,g=0,b=0}const r=Math.abs(o[y]||0),s=Math.abs(a[y]||0);r>g&&(g=r),s>b&&(b=s)}i.fill(),i.closePath()}renderLineWaveform(e,t,i,n){const o=t=>{const o=e[t]||e[0],a=o.length,{height:r}=i.canvas,s=r/2,l=i.canvas.width/a;i.moveTo(0,s);let u=0,d=0;for(let e=0;e<=a;e++){const a=Math.round(e*l);if(a>u){const e=s+(Math.round(d*s*n)||1)*(0===t?-1:1);i.lineTo(u,e),u=a,d=0}const r=Math.abs(o[e]||0);r>d&&(d=r)}i.lineTo(u,s)};i.beginPath(),o(0),o(1),i.fill(),i.closePath()}renderWaveform(e,t,i){if(i.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction)return void t.renderFunction(e,i);let n=t.barHeight||1;if(t.normalize){const t=Array.from(e[0]).reduce(((e,t)=>Math.max(e,Math.abs(t))),0);n=t?1/t:1}t.barWidth||t.barGap||t.barAlign?this.renderBarWaveform(e,t,i,n):this.renderLineWaveform(e,t,i,n)}renderSingleCanvas(e,t,i,n,o,a,r){const s=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(i*s),l.height=Math.round(n*s),l.style.width=`${i}px`,l.style.height=`${n}px`,l.style.left=`${Math.round(o)}px`,a.appendChild(l);const u=l.getContext("2d");if(this.renderWaveform(e,t,u),l.width>0&&l.height>0){const e=l.cloneNode(),i=e.getContext("2d");i.drawImage(l,0,0),i.globalCompositeOperation="source-in",i.fillStyle=this.convertColorValues(t.progressColor),i.fillRect(0,0,l.width,l.height),r.appendChild(e)}}renderMultiCanvas(e,t,i,n,o,a){const r=this.getPixelRatio(),{clientWidth:s}=this.scrollContainer,l=i/r;let u=Math.min(Tt.MAX_CANVAS_WIDTH,s,l),d={};if(0===u)return;if(t.barWidth||t.barGap){const e=t.barWidth||.5,i=e+(t.barGap||e/2);u%i!=0&&(u=Math.floor(u/i)*i)}const c=i=>{if(i<0||i>=h)return;if(d[i])return;d[i]=!0;const r=i*u,s=Math.min(l-r,u);if(s<=0)return;const c=e.map((e=>{const t=Math.floor(r/l*e.length),i=Math.floor((r+s)/l*e.length);return e.slice(t,i)}));this.renderSingleCanvas(c,t,s,n,r,o,a)},h=Math.ceil(l/u);if(!this.isScrollable){for(let e=0;e<h;e++)c(e);return}const p=this.scrollContainer.scrollLeft/l,m=Math.floor(p*h);if(c(m-1),c(m),c(m+1),h>1){const e=this.on("scroll",(()=>{const{scrollLeft:e}=this.scrollContainer,t=Math.floor(e/l*h);Object.keys(d).length>Tt.MAX_NODES&&(o.innerHTML="",a.innerHTML="",d={}),c(t-1),c(t),c(t+1)}));this.unsubscribeOnScroll.push(e)}}renderChannel(e,t,i,n){var{overlay:o}=t,a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(t,["overlay"]);const r=document.createElement("div"),s=this.getHeight(a.height,a.splitChannels);r.style.height=`${s}px`,o&&n>0&&(r.style.marginTop=`-${s}px`),this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(r);const l=r.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(e,a,i,s,r,l)}render(e){return xt(this,void 0,void 0,(function*(){var t;this.timeouts.forEach((e=>e())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),n=this.scrollContainer.clientWidth,o=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=o>n;const a=this.options.fillParent&&!this.isScrollable,r=(a?n:o)*i;if(this.wrapper.style.width=a?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let s=0;s<e.numberOfChannels;s++){const i=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[s]);this.renderChannel([e.getChannelData(s)],i,r,s)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,r,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((e=>e())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:e}=this.progressWrapper.getBoundingClientRect();let i=e-t;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:i,scrollWidth:n,clientWidth:o}=this.scrollContainer,a=e*n,r=i,s=i+o,l=o/2;if(this.isDragging){const e=30;a+e>s?this.scrollContainer.scrollLeft+=e:a-e<r&&(this.scrollContainer.scrollLeft-=e)}else{(a<r||a>s)&&(this.scrollContainer.scrollLeft=a-(this.options.autoCenter?l:0));const e=a-i-l;t&&this.options.autoCenter&&e>0&&(this.scrollContainer.scrollLeft+=Math.min(e,10))}{const e=this.scrollContainer.scrollLeft,t=e/n,i=(e+o)/n;this.emit("scroll",t,i,e,e+o)}}renderProgress(e,t){if(isNaN(e))return;const i=100*e;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${100===Math.round(i)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,t)}exportImage(e,t,i){return xt(this,void 0,void 0,(function*(){const n=this.canvasWrapper.querySelectorAll("canvas");if(!n.length)throw new Error("No waveform data");if("dataURL"===i){const i=Array.from(n).map((i=>i.toDataURL(e,t)));return Promise.resolve(i)}return Promise.all(Array.from(n).map((i=>new Promise(((n,o)=>{i.toBlob((e=>{e?n(e):o(new Error("Could not export image"))}),e,t)})))))}))}}Tt.MAX_CANVAS_WIDTH=8e3,Tt.MAX_NODES=10;class Lt extends Rt{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class Wt extends Rt{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return xt(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then((t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()})).then((t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t))).then((t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){var e;if(!this.paused)return;this.paused=!1,null===(e=this.bufferNode)||void 0===e||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,null===(e=this.bufferNode)||void 0===e||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return xt(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const t=e-this.currentTime,i=this.bufferNode;null==i||i.stop(this.audioContext.currentTime+t),null==i||i.addEventListener("ended",(()=>{i===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(e){return xt(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,t;return null!==(e=this._duration)&&void 0!==e?e:(null===(t=this.buffer)||void 0===t?void 0:t.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let i=0;i<t;i++)e.push(this.buffer.getChannelData(i));return e}}const Nt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Vt extends Mt{static create(e){return new Vt(e)}constructor(e){const t=e.media||("WebAudio"===e.backend?new Wt:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Nt,e),this.timer=new Lt;const i=t?void 0:this.getMediaElement();this.renderer=new Tt(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:e,duration:t}=this.options;(n||e&&t)&&this.load(n,e,t).catch((()=>null))}))}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),null!=this.stopAtPosition&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const e=this.updateProgress();this.emit("timeupdate",e)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var e;this.emit("error",null!==(e=this.getMediaElement().error)&&void 0!==e?e:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))})),this.renderer.on("dblclick",((e,t)=>{this.emit("dblclick",e,t)})),this.renderer.on("scroll",((e,t,i,n)=>{const o=this.getDuration();this.emit("scroll",e*o,t*o,i,n)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(e=>{this.emit("dragstart",e)})),this.renderer.on("dragend",(e=>{this.emit("dragend",e)})));{let e;this.subscriptions.push(this.renderer.on("drag",(t=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(t),clearTimeout(e),this.isPlaying()?i=0:!0===this.options.dragToSeek?i=200:"object"==typeof this.options.dragToSeek&&void 0!==this.options.dragToSeek&&(i=this.options.dragToSeek.debounceTime),e=setTimeout((()=>{this.seekTo(t)}),i),this.emit("interaction",t*this.getDuration()),this.emit("drag",t)})))}}initPlugins(){var e;(null===(e=this.options.plugins)||void 0===e?void 0:e.length)&&this.options.plugins.forEach((e=>{this.registerPlugin(e)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((e=>e())),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=Ct.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=Ct.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),null!=e.mediaControls&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",(()=>{this.plugins=this.plugins.filter((t=>t!==e))}))),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,i,n){return xt(this,void 0,void 0,(function*(){var o;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!t&&!i){const i=this.options.fetchParams||{};window.AbortController&&!i.signal&&(this.abortController=new AbortController,i.signal=null===(o=this.abortController)||void 0===o?void 0:o.signal);const n=e=>this.emit("loading",e);t=yield Pt.fetchBlob(e,n,i);const a=this.options.blobMimeType;a&&(t=new Blob([t],{type:a}))}this.setSrc(e,t);const a=yield new Promise((e=>{const t=n||this.getDuration();t?e(t):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>e(this.getDuration())),{once:!0}))}));if(!e&&!t){const e=this.getMediaElement();e instanceof Wt&&(e.duration=a)}if(i)this.decodedData=Ct.createBuffer(i,a||0);else if(t){const e=yield t.arrayBuffer();this.decodedData=yield Ct.decode(e,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(e,t,i){return xt(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,t,i)}catch(xt){throw this.emit("error",xt),xt}}))}loadBlob(e,t,i){return xt(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",e,t,i)}catch(xt){throw this.emit("error",xt),xt}}))}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const n=Math.min(e,this.decodedData.numberOfChannels),o=[];for(let a=0;a<n;a++){const e=this.decodedData.getChannelData(a),n=[],r=e.length/t;for(let o=0;o<t;o++){const t=e.slice(Math.floor(o*r),Math.ceil((o+1)*r));let a=0;for(let e=0;e<t.length;e++){const i=t[e];Math.abs(i)>Math.abs(a)&&(a=i)}n.push(Math.round(a*i)/i)}o.push(n)}return o}getDuration(){let e=super.getDuration()||0;return 0!==e&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}play(e,t){const i=Object.create(null,{play:{get:()=>super.play}});return xt(this,void 0,void 0,(function*(){null!=e&&this.setTime(e);const n=yield i.play.call(this);return null!=t&&(this.media instanceof Wt?this.media.stopAt(t):this.stopAtPosition=t),n}))}playPause(){return xt(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return xt(this,arguments,void 0,(function*(e="image/png",t=1,i="dataURL"){return this.renderer.exportImage(e,t,i)}))}destroy(){var e;this.emit("destroy"),null===(e=this.abortController)||void 0===e||e.abort(),this.plugins.forEach((e=>e.destroy())),this.subscriptions.forEach((e=>e())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Vt.BasePlugin=class extends Rt{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e()))}},Vt.dom=St;var Dt={data(){return{wavesurfer:null,isPlaying:!1,duration:0,currentTime:0,list:[],dataObj:{},audioList:[],currentPlaying:null,stepIndex:0,endCount:0,email:""}},computed:{nextDisabled(){return this.audioList.length>this.endCount}},watch:{stepIndex(e,t){console.log(e,t)}},async mounted(){const e=await fetch("/score.json");this.list=await e.json(),this.audioList=this.list[0].audios.map((e=>({name:e.name,url:e.url,disabled:!0,score:0}))),console.log(this.audioList);const t=await fetch("/email.json"),i=await t.json();this.email=i.email},methods:{handleFileUpload(e){const t=Array.from(e.target.files);this.audioList=t.map((e=>({name:e.name,url:URL.createObjectURL(e),disabled:!0,score:0}))),this.initWavesurfer(this.audioList[0])},testEmail(){const e="http://112.74.105.167:8001/send-email",t={device_nickname:"user",email_to:"936507807@qq.com",detail:"ceshi"};fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{if(!e.ok)throw new Error(`HTTP 错误 ${e.status}`);return e.json()})).then((e=>{console.log("成功:",e)})).catch((e=>{console.error("请求失败:",e)}))},initWavesurfer(e){this.wavesurfer=Vt.create({container:this.$refs.waveform,waveColor:"#718096",progressColor:"#4a5568",cursorColor:"#2d3748",height:80,responsive:!0,normalize:!0}),this.wavesurfer.load(e.url),this.currentPlaying=e.url,this.wavesurfer.on("ready",(()=>{this.duration=this.wavesurfer.getDuration()})),this.wavesurfer.on("audioprocess",(e=>{this.currentTime=e})),this.wavesurfer.on("finish",(()=>{this.isPlaying=!1;const t=e.name,i=this.audioList.find((e=>e.name===t));i&&i.disabled&&(i.disabled=!1,this.endCount++,console.log(i,this.endCount))}))},togglePlay(e){this.currentPlaying!==e.url?(this.wavesurfer.destroy(),URL.revokeObjectURL(this.currentPlaying),this.initWavesurfer(e),this.wavesurfer.playPause()):this.wavesurfer.playPause(),this.isPlaying=this.wavesurfer.isPlaying()},formatTime(e){return[Math.floor(e/60),Math.floor(e%60).toString().padStart(2,"0")].join(":")},handlePlayStart(e){this.currentPlaying&&this.currentPlaying!==e&&this.$refs.audioItems.forEach((t=>{t.fileName!==e&&t.isPlaying&&t.togglePlay()})),this.currentPlaying=e},handlePlayEnd(e){console.log(`${e} 播放完成`);const t=this.audioList.find((t=>t.name===e));t&&t.disabled&&(t.disabled=!1,this.endCount++,console.log(t,this.endCount))},handleScoreChange(e,t){const i=this.audioList.find((e=>e.name===t));i&&(i.score=e)},handleNext(){const e=this.list[this.stepIndex].name;if(this.dataObj[e]=JSON.parse(JSON.stringify(this.audioList)),this.stepIndex===this.list.length-1)console.log("send email"),this.sendEmail(this.dataObj);else{this.wavesurfer.destroy(),URL.revokeObjectURL(this.currentPlaying),this.stepIndex+=1,this.currentPlaying=null,this.endCount=0,this.audioList=[],console.log(this.dataObj);const e=this.stepIndex;this.audioList=this.list[e].audios.map((e=>({name:e.name,url:e.url,disabled:!0,score:0}))),console.log(this.audioList),this.initWavesurfer(this.audioList[0])}},async sendEmail(e){console.log("模拟发送到:",this.email),console.log("邮件内容:",JSON.stringify(e,null,2));const t="test",i=`\n          邮件内容: ${JSON.stringify(e,null,2)}\n        `;window.location.href=`mailto:${this.email}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(i)}`}}},It=i(6262);const Bt=(0,It.A)(Dt,[["render",wt],["__scopeId","data-v-16bed910"]]);var At=Bt},2812:function(e){var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},4603:function(e,t,i){var n=i(6840),o=i(9504),a=i(655),r=i(2812),s=URLSearchParams,l=s.prototype,u=o(l.append),d=o(l["delete"]),c=o(l.forEach),h=o([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&n(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=[];c(this,(function(e,t){h(n,{key:t,value:e})})),r(t,1);var o,s=a(e),l=a(i),p=0,m=0,v=!1,f=n.length;while(p<f)o=n[p++],v||o.key===s?(v=!0,d(this,o.key)):m++;while(m<f)o=n[m++],o.key===s&&o.value===l||u(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},6319:function(e,t,i){var n=i(8551),o=i(9539);e.exports=function(e,t,i,a){try{return a?t(n(i)[0],i[1]):t(i)}catch(r){o(e,"throw",r)}}},7566:function(e,t,i){var n=i(6840),o=i(9504),a=i(655),r=i(2812),s=URLSearchParams,l=s.prototype,u=o(l.getAll),d=o(l.has),c=new s("a=1");!c.has("a",2)&&c.has("a",void 0)||n(l,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=u(this,e);r(t,1);var o=a(i),s=0;while(s<n.length)if(n[s++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,i){var n=i(3724),o=i(9504),a=i(2106),r=URLSearchParams.prototype,s=o(r.forEach);n&&!("size"in r)&&a(r,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=73.0c7633df.js.map