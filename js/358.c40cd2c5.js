"use strict";(self["webpackChunkaudio_vue3"]=self["webpackChunkaudio_vue3"]||[]).push([[358],{655:function(e,t,i){var n=i(6955),a=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return a(e)}},713:function(e,t,i){var n=i(9565),a=i(9306),o=i(8551),r=i(1767),s=i(9462),l=i(6319),u=s((function(){var e=this.iterator,t=o(n(this.next,e)),i=this.done=!!t.done;if(!i)return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),a(e),new u(r(this),{mapper:e})}},1358:function(e,t,i){i.r(t),i.d(t,{default:function(){return Bt}});var n=i(3533),a=(i(6422),i(9303),i(641)),o=i(953),r=i(33),s=i(3751),l=i(7786),u=i(7859),d=i(2307),c=i(1361),h=i(8548);const p=()=>d.oc&&/firefox/i.test(window.navigator.userAgent);var m=i(2154);let v;const f={height:"0",visibility:"hidden",overflow:p()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},g=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function b(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width")),o=g.map((e=>[e,t.getPropertyValue(e)]));return{contextStyle:o,paddingSize:n,borderSize:a,boxSizing:i}}function y(e,t=1,i){var n;v||(v=document.createElement("textarea"),document.body.appendChild(v));const{paddingSize:a,borderSize:o,boxSizing:r,contextStyle:s}=b(e);s.forEach((([e,t])=>null==v?void 0:v.style.setProperty(e,t))),Object.entries(f).forEach((([e,t])=>null==v?void 0:v.style.setProperty(e,t,"important"))),v.value=e.value||e.placeholder||"";let l=v.scrollHeight;const u={};"border-box"===r?l+=o:"content-box"===r&&(l-=a),v.value="";const d=v.scrollHeight-a;if((0,m.Et)(t)){let e=d*t;"border-box"===r&&(e=e+a+o),l=Math.max(e,l),u.minHeight=`${e}px`}if((0,m.Et)(i)){let e=d*i;"border-box"===r&&(e=e+a+o),l=Math.min(e,l)}return u.height=`${l}px`,null==(n=v.parentNode)||n.removeChild(v),v=void 0,u}var w=i(2018),x=i(5343),C=i(1254),R=i(465),E=i(1069),S=i(819);const k=(0,S.b_)({id:{type:String,default:void 0},size:w.mU,disabled:Boolean,modelValue:{type:(0,S.jq)([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:(0,S.jq)([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:x.Ze},prefixIcon:{type:x.Ze},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:(0,S.jq)([Object,Array,String]),default:()=>(0,C.f)({})},autofocus:Boolean,rows:{type:Number,default:2},...(0,R.l)(["ariaLabel"])}),P={[E.l4]:e=>(0,r.Kg)(e),input:e=>(0,r.Kg)(e),change:e=>(0,r.Kg)(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};var M=i(8396),T=i(3753),N=i(1651);const W=["class","style"],V=/^on[A-Z]/,L=(e={})=>{const{excludeListeners:t=!1,excludeKeys:i}=e,n=(0,a.EW)((()=>((null==i?void 0:i.value)||[]).concat(W))),o=(0,a.nI)();return o?(0,a.EW)((()=>{var e;return(0,T.A)(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!n.value.includes(e)&&!(t&&V.test(e)))))})):((0,N.U)("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),(0,a.EW)((()=>({}))))};var D=i(9357),I=i(2207);function B(e,{beforeFocus:t,afterFocus:i,beforeBlur:n,afterBlur:s}={}){const u=(0,a.nI)(),{emit:d}=u,c=(0,o.IJ)(),h=(0,o.KR)(!1),p=e=>{const n=!!(0,r.Tn)(t)&&t(e);n||h.value||(h.value=!0,d("focus",e),null==i||i())},m=e=>{var t;const i=!!(0,r.Tn)(n)&&n(e);i||e.relatedTarget&&(null==(t=c.value)?void 0:t.contains(e.relatedTarget))||(h.value=!1,d("blur",e),null==s||s())},v=()=>{var t,i;(null==(t=c.value)?void 0:t.contains(document.activeElement))&&c.value!==document.activeElement||null==(i=e.value)||i.focus()};return(0,a.wB)(c,(e=>{e&&e.setAttribute("tabindex","-1")})),(0,l.MLh)(c,"focus",p,!0),(0,l.MLh)(c,"blur",m,!0),(0,l.MLh)(c,"click",v,!0),{isFocused:h,wrapperRef:c,handleFocus:p,handleBlur:m}}const A=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function F({afterComposition:e,emit:t}){const i=(0,o.KR)(!1),n=e=>{null==t||t("compositionstart",e),i.value=!0},r=e=>{var n;null==t||t("compositionupdate",e);const a=null==(n=e.target)?void 0:n.value,o=a[a.length-1]||"";i.value=!A(o)},s=n=>{null==t||t("compositionend",n),i.value&&(i.value=!1,(0,a.dY)((()=>e(n))))},l=e=>{"compositionend"===e.type?s(e):r(e)};return{isComposing:i,handleComposition:l,handleCompositionStart:n,handleCompositionUpdate:r,handleCompositionEnd:s}}function _(e){let t;function i(){if(void 0==e.value)return;const{selectionStart:i,selectionEnd:n,value:a}=e.value;if(null==i||null==n)return;const o=a.slice(0,Math.max(0,i)),r=a.slice(Math.max(0,n));t={selectionStart:i,selectionEnd:n,value:a,beforeTxt:o,afterTxt:r}}function n(){if(void 0==e.value||void 0==t)return;const{value:i}=e.value,{beforeTxt:n,afterTxt:a,selectionStart:o}=t;if(void 0==n||void 0==a||void 0==o)return;let r=i.length;if(i.endsWith(a))r=i.length-a.length;else if(i.startsWith(n))r=n.length;else{const e=n[o-1],t=i.indexOf(e,o-1);-1!==t&&(r=t+1)}e.value.setSelectionRange(r,r)}return[i,n]}var O=i(5980);const $="ElInput",X=(0,a.pM)({name:$,inheritAttrs:!1}),z=(0,a.pM)({...X,props:k,emits:P,setup(e,{expose:t,emit:i}){const n=e,p=(0,a.OA)(),m=L(),v=(0,a.Ht)(),f=(0,a.EW)((()=>["textarea"===n.type?P.b():k.b(),k.m(R.value),k.is("disabled",S.value),k.is("exceed",oe.value),{[k.b("group")]:v.prepend||v.append,[k.m("prefix")]:v.prefix||n.prefixIcon,[k.m("suffix")]:v.suffix||n.suffixIcon||n.clearable||n.showPassword,[k.bm("suffix","password-clear")]:te.value&&ie.value,[k.b("hidden")]:"hidden"===n.type},p.class])),g=(0,a.EW)((()=>[k.e("wrapper"),k.is("focus",j.value)])),{form:b,formItem:w}=(0,D.j)(),{inputId:C}=(0,D.W)(n,{formItemContext:w}),R=(0,I.NV)(),S=(0,I.CB)(),k=(0,O.DU)("input"),P=(0,O.DU)("textarea"),M=(0,o.IJ)(),T=(0,o.IJ)(),W=(0,o.KR)(!1),V=(0,o.KR)(!1),A=(0,o.KR)(),X=(0,o.IJ)(n.inputStyle),z=(0,a.EW)((()=>M.value||T.value)),{wrapperRef:U,isFocused:j,handleFocus:K,handleBlur:Y}=B(z,{beforeFocus(){return S.value},afterBlur(){var e;n.validateEvent&&(null==(e=null==w?void 0:w.validate)||e.call(w,"blur").catch((e=>(0,N.U)(e))))}}),Q=(0,a.EW)((()=>{var e;return null!=(e=null==b?void 0:b.statusIcon)&&e})),q=(0,a.EW)((()=>(null==w?void 0:w.validateState)||"")),G=(0,a.EW)((()=>q.value&&x.vK[q.value])),H=(0,a.EW)((()=>V.value?h.Ss2:h.LdN)),J=(0,a.EW)((()=>[p.style])),Z=(0,a.EW)((()=>[n.inputStyle,X.value,{resize:n.resize}])),ee=(0,a.EW)((()=>(0,u.A)(n.modelValue)?"":String(n.modelValue))),te=(0,a.EW)((()=>n.clearable&&!S.value&&!n.readonly&&!!ee.value&&(j.value||W.value))),ie=(0,a.EW)((()=>n.showPassword&&!S.value&&!!ee.value&&(!!ee.value||j.value))),ne=(0,a.EW)((()=>n.showWordLimit&&!!n.maxlength&&("text"===n.type||"textarea"===n.type)&&!S.value&&!n.readonly&&!n.showPassword)),ae=(0,a.EW)((()=>ee.value.length)),oe=(0,a.EW)((()=>!!ne.value&&ae.value>Number(n.maxlength))),re=(0,a.EW)((()=>!!v.suffix||!!n.suffixIcon||te.value||n.showPassword||ne.value||!!q.value&&Q.value)),[se,le]=_(M);(0,l.wYm)(T,(e=>{if(ce(),!ne.value||"both"!==n.resize)return;const t=e[0],{width:i}=t.contentRect;A.value={right:`calc(100% - ${i+15+6}px)`}}));const ue=()=>{const{type:e,autosize:t}=n;if(d.oc&&"textarea"===e&&T.value)if(t){const e=(0,r.Gv)(t)?t.minRows:void 0,i=(0,r.Gv)(t)?t.maxRows:void 0,n=y(T.value,e,i);X.value={overflowY:"hidden",...n},(0,a.dY)((()=>{T.value.offsetHeight,X.value=n}))}else X.value={minHeight:y(T.value).minHeight}},de=e=>{let t=!1;return()=>{var i;if(t||!n.autosize)return;const a=null===(null==(i=T.value)?void 0:i.offsetParent);a||(e(),t=!0)}},ce=de(ue),he=()=>{const e=z.value,t=n.formatter?n.formatter(ee.value):ee.value;e&&e.value!==t&&(e.value=t)},pe=async e=>{se();let{value:t}=e.target;n.formatter&&n.parser&&(t=n.parser(t)),ve.value||(t!==ee.value?(i(E.l4,t),i(E.qs,t),await(0,a.dY)(),he(),le()):he())},me=e=>{let{value:t}=e.target;n.formatter&&n.parser&&(t=n.parser(t)),i(E.YU,t)},{isComposing:ve,handleCompositionStart:fe,handleCompositionUpdate:ge,handleCompositionEnd:be}=F({emit:i,afterComposition:pe}),ye=()=>{se(),V.value=!V.value,setTimeout(le)},we=()=>{var e;return null==(e=z.value)?void 0:e.focus()},xe=()=>{var e;return null==(e=z.value)?void 0:e.blur()},Ce=e=>{W.value=!1,i("mouseleave",e)},Re=e=>{W.value=!0,i("mouseenter",e)},Ee=e=>{i("keydown",e)},Se=()=>{var e;null==(e=z.value)||e.select()},ke=()=>{i(E.l4,""),i(E.YU,""),i("clear"),i(E.qs,"")};return(0,a.wB)((()=>n.modelValue),(()=>{var e;(0,a.dY)((()=>ue())),n.validateEvent&&(null==(e=null==w?void 0:w.validate)||e.call(w,"change").catch((e=>(0,N.U)(e))))})),(0,a.wB)(ee,(()=>he())),(0,a.wB)((()=>n.type),(async()=>{await(0,a.dY)(),he(),ue()})),(0,a.sV)((()=>{!n.formatter&&n.parser&&(0,N.U)($,"If you set the parser, you also need to set the formatter."),he(),(0,a.dY)(ue)})),t({input:M,textarea:T,ref:z,textareaStyle:Z,autosize:(0,o.lW)(n,"autosize"),isComposing:ve,focus:we,blur:xe,select:Se,clear:ke,resizeTextarea:ue}),(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,r.C4)([(0,o.R1)(f),{[(0,o.R1)(k).bm("group","append")]:e.$slots.append,[(0,o.R1)(k).bm("group","prepend")]:e.$slots.prepend}]),style:(0,r.Tr)((0,o.R1)(J)),onMouseenter:Re,onMouseleave:Ce},[(0,a.Q3)(" input "),"textarea"!==e.type?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Q3)(" prepend slot "),e.$slots.prepend?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,r.C4)((0,o.R1)(k).be("group","prepend"))},[(0,a.RG)(e.$slots,"prepend")],2)):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",{ref_key:"wrapperRef",ref:U,class:(0,r.C4)((0,o.R1)(g))},[(0,a.Q3)(" prefix slot "),e.$slots.prefix||e.prefixIcon?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,r.C4)((0,o.R1)(k).e("prefix"))},[(0,a.Lk)("span",{class:(0,r.C4)((0,o.R1)(k).e("prefix-inner"))},[(0,a.RG)(e.$slots,"prefix"),e.prefixIcon?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.tk),{key:0,class:(0,r.C4)((0,o.R1)(k).e("icon"))},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.prefixIcon)))])),_:1},8,["class"])):(0,a.Q3)("v-if",!0)],2)],2)):(0,a.Q3)("v-if",!0),(0,a.Lk)("input",(0,a.v6)({id:(0,o.R1)(C),ref_key:"input",ref:M,class:(0,o.R1)(k).e("inner")},(0,o.R1)(m),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?V.value?"text":"password":e.type,disabled:(0,o.R1)(S),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:(0,o.R1)(fe),onCompositionupdate:(0,o.R1)(ge),onCompositionend:(0,o.R1)(be),onInput:pe,onChange:me,onKeydown:Ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),(0,a.Q3)(" suffix slot "),(0,o.R1)(re)?((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,r.C4)((0,o.R1)(k).e("suffix"))},[(0,a.Lk)("span",{class:(0,r.C4)((0,o.R1)(k).e("suffix-inner"))},[(0,o.R1)(te)&&(0,o.R1)(ie)&&(0,o.R1)(ne)?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.RG)(e.$slots,"suffix"),e.suffixIcon?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.tk),{key:0,class:(0,r.C4)((0,o.R1)(k).e("icon"))},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.suffixIcon)))])),_:1},8,["class"])):(0,a.Q3)("v-if",!0)],64)),(0,o.R1)(te)?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.tk),{key:1,class:(0,r.C4)([(0,o.R1)(k).e("icon"),(0,o.R1)(k).e("clear")]),onMousedown:(0,s.D$)((0,o.R1)(r.tE),["prevent"]),onClick:ke},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(h.R$5))])),_:1},8,["class","onMousedown"])):(0,a.Q3)("v-if",!0),(0,o.R1)(ie)?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.tk),{key:2,class:(0,r.C4)([(0,o.R1)(k).e("icon"),(0,o.R1)(k).e("password")]),onClick:ye},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,o.R1)(H))))])),_:1},8,["class"])):(0,a.Q3)("v-if",!0),(0,o.R1)(ne)?((0,a.uX)(),(0,a.CE)("span",{key:3,class:(0,r.C4)((0,o.R1)(k).e("count"))},[(0,a.Lk)("span",{class:(0,r.C4)((0,o.R1)(k).e("count-inner"))},(0,r.v_)((0,o.R1)(ae))+" / "+(0,r.v_)(e.maxlength),3)],2)):(0,a.Q3)("v-if",!0),(0,o.R1)(q)&&(0,o.R1)(G)&&(0,o.R1)(Q)?((0,a.uX)(),(0,a.Wv)((0,o.R1)(c.tk),{key:4,class:(0,r.C4)([(0,o.R1)(k).e("icon"),(0,o.R1)(k).e("validateIcon"),(0,o.R1)(k).is("loading","validating"===(0,o.R1)(q))])},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,o.R1)(G))))])),_:1},8,["class"])):(0,a.Q3)("v-if",!0)],2)],2)):(0,a.Q3)("v-if",!0)],2),(0,a.Q3)(" append slot "),e.$slots.append?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,r.C4)((0,o.R1)(k).be("group","append"))},[(0,a.RG)(e.$slots,"append")],2)):(0,a.Q3)("v-if",!0)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Q3)(" textarea "),(0,a.Lk)("textarea",(0,a.v6)({id:(0,o.R1)(C),ref_key:"textarea",ref:T,class:[(0,o.R1)(P).e("inner"),(0,o.R1)(k).is("focus",(0,o.R1)(j))]},(0,o.R1)(m),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:(0,o.R1)(S),readonly:e.readonly,autocomplete:e.autocomplete,style:(0,o.R1)(Z),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:(0,o.R1)(fe),onCompositionupdate:(0,o.R1)(ge),onCompositionend:(0,o.R1)(be),onInput:pe,onFocus:(0,o.R1)(K),onBlur:(0,o.R1)(Y),onChange:me,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),(0,o.R1)(ne)?((0,a.uX)(),(0,a.CE)("span",{key:0,style:(0,r.Tr)(A.value),class:(0,r.C4)((0,o.R1)(k).e("count"))},(0,r.v_)((0,o.R1)(ae))+" / "+(0,r.v_)(e.maxlength),7)):(0,a.Q3)("v-if",!0)],64))],38))}});var U=(0,M.A)(z,[["__file","input.vue"]]),j=i(4769);const K=(0,j.GU)(U),Y=(0,S.b_)({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:w.mU,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||(0,m.Et)(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...(0,R.l)(["ariaLabel"])}),Q={[E.YU]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[E.qs]:e=>(0,m.Et)(e)||(0,u.A)(e),[E.l4]:e=>(0,m.Et)(e)||(0,u.A)(e)},q=100,G=600,H={beforeMount(e,t){const i=t.value,{interval:n=q,delay:a=G}=(0,r.Tn)(i)?{}:i;let o,s;const l=()=>(0,r.Tn)(i)?i():i.handler(),u=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",(e=>{0===e.button&&(u(),l(),document.addEventListener("mouseup",(()=>u()),{once:!0}),s=setTimeout((()=>{o=setInterval((()=>{l()}),n)}),a))}))}};var J=i(6318);function Z(e,t,i){var n=null==e?void 0:(0,J.A)(e,t);return void 0===n?i:n}var ee=Z,te={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const ie=e=>(t,i)=>ne(t,i,(0,o.R1)(e)),ne=(e,t,i)=>ee(i,e,e).replace(/\{(\w+)\}/g,((e,i)=>{var n;return`${null!=(n=null==t?void 0:t[i])?n:`{${i}}`}`})),ae=e=>{const t=(0,a.EW)((()=>(0,o.R1)(e).name)),i=(0,o.i9)(e)?e:(0,o.KR)(e);return{lang:t,locale:i,t:ie(e)}},oe=Symbol("localeContextKey"),re=e=>{const t=e||(0,a.WQ)(oe,(0,o.KR)());return ae((0,a.EW)((()=>t.value||te)))},se=(0,a.pM)({name:"ElInputNumber"}),le=(0,a.pM)({...se,props:Y,emits:Q,setup(e,{expose:t,emit:i}){const n=e,{t:l}=re(),d=(0,O.DU)("input-number"),v=(0,o.KR)(),f=(0,o.Kh)({currentValue:n.modelValue,userInput:null}),{formItem:g}=(0,D.j)(),b=(0,a.EW)((()=>(0,m.Et)(n.modelValue)&&n.modelValue<=n.min)),y=(0,a.EW)((()=>(0,m.Et)(n.modelValue)&&n.modelValue>=n.max)),w=(0,a.EW)((()=>{const e=P(n.step);return(0,m.b0)(n.precision)?Math.max(P(n.modelValue),e):(e>n.precision&&(0,N.U)("InputNumber","precision should not be less than the decimal places of step"),n.precision)})),x=(0,a.EW)((()=>n.controls&&"right"===n.controlsPosition)),C=(0,I.NV)(),R=(0,I.CB)(),S=(0,a.EW)((()=>{if(null!==f.userInput)return f.userInput;let e=f.currentValue;if((0,u.A)(e))return"";if((0,m.Et)(e)){if(Number.isNaN(e))return"";(0,m.b0)(n.precision)||(e=e.toFixed(n.precision))}return e})),k=(e,t)=>{if((0,m.b0)(t)&&(t=w.value),0===t)return Math.round(e);let i=String(e);const n=i.indexOf(".");if(-1===n)return e;const a=i.replace(".","").split(""),o=a[n+t];if(!o)return e;const r=i.length;return"5"===i.charAt(r-1)&&(i=`${i.slice(0,Math.max(0,r-1))}6`),Number.parseFloat(Number(i).toFixed(t))},P=e=>{if((0,u.A)(e))return 0;const t=e.toString(),i=t.indexOf(".");let n=0;return-1!==i&&(n=t.length-i-1),n},M=(e,t=1)=>(0,m.Et)(e)?k(e+n.step*t):f.currentValue,T=()=>{if(n.readonly||R.value||y.value)return;const e=Number(S.value)||0,t=M(e);L(t),i(E.qs,f.currentValue),z()},W=()=>{if(n.readonly||R.value||b.value)return;const e=Number(S.value)||0,t=M(e,-1);L(t),i(E.qs,f.currentValue),z()},V=(e,t)=>{const{max:a,min:o,step:s,precision:l,stepStrictly:d,valueOnClear:c}=n;a<o&&(0,N.$)("InputNumber","min should not be greater than max.");let h=Number(e);if((0,u.A)(e)||Number.isNaN(h))return null;if(""===e){if(null===c)return null;h=(0,r.Kg)(c)?{min:o,max:a}[c]:c}return d&&(h=k(Math.round(h/s)*s,l),h!==e&&t&&i(E.l4,h)),(0,m.b0)(l)||(h=k(h,l)),(h>a||h<o)&&(h=h>a?a:o,t&&i(E.l4,h)),h},L=(e,t=!0)=>{var a;const o=f.currentValue,r=V(e);t?o===r&&e||(f.userInput=null,i(E.l4,r),o!==r&&i(E.YU,r,o),n.validateEvent&&(null==(a=null==g?void 0:g.validate)||a.call(g,"change").catch((e=>(0,N.U)(e)))),f.currentValue=r):i(E.l4,r)},B=e=>{f.userInput=e;const t=""===e?null:Number(e);i(E.qs,t),L(t,!1)},A=e=>{const t=""!==e?Number(e):"";((0,m.Et)(t)&&!Number.isNaN(t)||""===e)&&L(t),z(),f.userInput=null},F=()=>{var e,t;null==(t=null==(e=v.value)?void 0:e.focus)||t.call(e)},_=()=>{var e,t;null==(t=null==(e=v.value)?void 0:e.blur)||t.call(e)},$=e=>{i("focus",e)},X=e=>{var t,a;f.userInput=null,p()&&null===f.currentValue&&(null==(t=v.value)?void 0:t.input)&&(v.value.input.value=""),i("blur",e),n.validateEvent&&(null==(a=null==g?void 0:g.validate)||a.call(g,"blur").catch((e=>(0,N.U)(e))))},z=()=>{f.currentValue!==n.modelValue&&(f.currentValue=n.modelValue)},U=e=>{document.activeElement===e.target&&e.preventDefault()};return(0,a.wB)((()=>n.modelValue),((e,t)=>{const i=V(e,!0);null===f.userInput&&i!==t&&(f.currentValue=i)}),{immediate:!0}),(0,a.sV)((()=>{var e;const{min:t,max:a,modelValue:o}=n,r=null==(e=v.value)?void 0:e.input;if(r.setAttribute("role","spinbutton"),Number.isFinite(a)?r.setAttribute("aria-valuemax",String(a)):r.removeAttribute("aria-valuemax"),Number.isFinite(t)?r.setAttribute("aria-valuemin",String(t)):r.removeAttribute("aria-valuemin"),r.setAttribute("aria-valuenow",f.currentValue||0===f.currentValue?String(f.currentValue):""),r.setAttribute("aria-disabled",String(R.value)),!(0,m.Et)(o)&&null!=o){let e=Number(o);Number.isNaN(e)&&(e=null),i(E.l4,e)}r.addEventListener("wheel",U,{passive:!1})})),(0,a.$u)((()=>{var e,t;const i=null==(e=v.value)?void 0:e.input;null==i||i.setAttribute("aria-valuenow",`${null!=(t=f.currentValue)?t:""}`)})),t({focus:F,blur:_}),(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,r.C4)([(0,o.R1)(d).b(),(0,o.R1)(d).m((0,o.R1)(C)),(0,o.R1)(d).is("disabled",(0,o.R1)(R)),(0,o.R1)(d).is("without-controls",!e.controls),(0,o.R1)(d).is("controls-right",(0,o.R1)(x))]),onDragstart:(0,s.D$)((()=>{}),["prevent"])},[e.controls?(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",{key:0,role:"button","aria-label":(0,o.R1)(l)("el.inputNumber.decrease"),class:(0,r.C4)([(0,o.R1)(d).e("decrease"),(0,o.R1)(d).is("disabled",(0,o.R1)(b))]),onKeydown:(0,s.jR)(W,["enter"])},[(0,a.RG)(e.$slots,"decrease-icon",{},(()=>[(0,a.bF)((0,o.R1)(c.tk),null,{default:(0,a.k6)((()=>[(0,o.R1)(x)?((0,a.uX)(),(0,a.Wv)((0,o.R1)(h.yd$),{key:0})):((0,a.uX)(),(0,a.Wv)((0,o.R1)(h.Hsy),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[(0,o.R1)(H),W]]):(0,a.Q3)("v-if",!0),e.controls?(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",{key:1,role:"button","aria-label":(0,o.R1)(l)("el.inputNumber.increase"),class:(0,r.C4)([(0,o.R1)(d).e("increase"),(0,o.R1)(d).is("disabled",(0,o.R1)(y))]),onKeydown:(0,s.jR)(T,["enter"])},[(0,a.RG)(e.$slots,"increase-icon",{},(()=>[(0,a.bF)((0,o.R1)(c.tk),null,{default:(0,a.k6)((()=>[(0,o.R1)(x)?((0,a.uX)(),(0,a.Wv)((0,o.R1)(h.DoI),{key:0})):((0,a.uX)(),(0,a.Wv)((0,o.R1)(h.FWt),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[(0,o.R1)(H),T]]):(0,a.Q3)("v-if",!0),(0,a.bF)((0,o.R1)(K),{id:e.id,ref_key:"input",ref:v,type:"number",step:e.step,"model-value":(0,o.R1)(S),placeholder:e.placeholder,readonly:e.readonly,disabled:(0,o.R1)(R),size:(0,o.R1)(C),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[(0,s.jR)((0,s.D$)(T,["prevent"]),["up"]),(0,s.jR)((0,s.D$)(W,["prevent"]),["down"])],onBlur:X,onFocus:$,onInput:B,onChange:A},(0,a.eX)({_:2},[e.$slots.prefix?{name:"prefix",fn:(0,a.k6)((()=>[(0,a.RG)(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:(0,a.k6)((()=>[(0,a.RG)(e.$slots,"suffix")]))}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var ue=(0,M.A)(le,[["__file","input-number.vue"]]);const de=(0,j.GU)(ue),ce=Symbol("sliderContextKey");var he=i(1537);const pe=(0,S.b_)({modelValue:{type:(0,S.jq)([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:w.mU,inputSize:w.mU,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:(0,S.jq)(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:(0,S.jq)(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:he.DD,default:"top"},marks:{type:(0,S.jq)(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...(0,R.l)(["ariaLabel"])}),me=e=>(0,m.Et)(e)||(0,r.cy)(e)&&e.every(m.Et),ve={[E.l4]:me,[E.qs]:me,[E.YU]:me};var fe=i(5288);const ge=(0,S.b_)({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:he.DD,default:"top"}}),be={[E.l4]:e=>(0,m.Et)(e)};var ye=i(3149),we=i(1951),xe=function(){return we.A.Date.now()},Ce=xe,Re=/\s/;function Ee(e){var t=e.length;while(t--&&Re.test(e.charAt(t)));return t}var Se=Ee,ke=/^\s+/;function Pe(e){return e?e.slice(0,Se(e)+1).replace(ke,""):e}var Me=Pe,Te=i(1882),Ne=NaN,We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Le=/^0o[0-7]+$/i,De=parseInt;function Ie(e){if("number"==typeof e)return e;if((0,Te.A)(e))return Ne;if((0,ye.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,ye.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Me(e);var i=Ve.test(e);return i||Le.test(e)?De(e.slice(2),i?2:8):We.test(e)?Ne:+e}var Be=Ie,Ae="Expected a function",Fe=Math.max,_e=Math.min;function Oe(e,t,i){var n,a,o,r,s,l,u=0,d=!1,c=!1,h=!0;if("function"!=typeof e)throw new TypeError(Ae);function p(t){var i=n,o=a;return n=a=void 0,u=t,r=e.apply(o,i),r}function m(e){return u=e,s=setTimeout(g,t),d?p(e):r}function v(e){var i=e-l,n=e-u,a=t-i;return c?_e(a,o-n):a}function f(e){var i=e-l,n=e-u;return void 0===l||i>=t||i<0||c&&n>=o}function g(){var e=Ce();if(f(e))return b(e);s=setTimeout(g,v(e))}function b(e){return s=void 0,h&&n?p(e):(n=a=void 0,r)}function y(){void 0!==s&&clearTimeout(s),u=0,n=l=a=s=void 0}function w(){return void 0===s?r:b(Ce())}function x(){var e=Ce(),i=f(e);if(n=arguments,a=this,l=e,i){if(void 0===s)return m(l);if(c)return clearTimeout(s),s=setTimeout(g,t),p(l)}return void 0===s&&(s=setTimeout(g,t)),r}return t=Be(t)||0,(0,ye.A)(i)&&(d=!!i.leading,c="maxWait"in i,o=c?Fe(Be(i.maxWait)||0,t):o,h="trailing"in i?!!i.trailing:h),x.cancel=y,x.flush=w,x}var $e=Oe,Xe=i(3344);const ze=(e,t,i)=>{const n=(0,o.KR)(),r=(0,o.KR)(!1),s=(0,a.EW)((()=>t.value instanceof Function)),l=(0,a.EW)((()=>s.value&&t.value(e.modelValue)||e.modelValue)),u=$e((()=>{i.value&&(r.value=!0)}),50),d=$e((()=>{i.value&&(r.value=!1)}),50);return{tooltip:n,tooltipVisible:r,formatValue:l,displayTooltip:u,hideTooltip:d}},Ue=(e,t,i)=>{const{disabled:n,min:r,max:s,step:u,showTooltip:d,persistent:c,precision:h,sliderSize:p,formatTooltip:m,emitChange:v,resetSize:f,updateDragging:g}=(0,a.WQ)(ce),{tooltip:b,tooltipVisible:y,formatValue:w,displayTooltip:x,hideTooltip:C}=ze(e,m,d),R=(0,o.KR)(),S=(0,a.EW)((()=>(e.modelValue-r.value)/(s.value-r.value)*100+"%")),k=(0,a.EW)((()=>e.vertical?{bottom:S.value}:{left:S.value})),P=()=>{t.hovering=!0,x()},M=()=>{t.hovering=!1,t.dragging||C()},T=e=>{n.value||(e.preventDefault(),_(e),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),window.addEventListener("contextmenu",$),R.value.focus())},N=e=>{n.value||(t.newPosition=Number.parseFloat(S.value)+e/(s.value-r.value)*100,X(t.newPosition),v())},W=()=>{N(-u.value)},V=()=>{N(u.value)},L=()=>{N(4*-u.value)},D=()=>{N(4*u.value)},I=()=>{n.value||(X(0),v())},B=()=>{n.value||(X(100),v())},A=e=>{let t=!0;switch(e.code){case Xe.R.left:case Xe.R.down:W();break;case Xe.R.right:case Xe.R.up:V();break;case Xe.R.home:I();break;case Xe.R.end:B();break;case Xe.R.pageDown:L();break;case Xe.R.pageUp:D();break;default:t=!1;break}t&&e.preventDefault()},F=e=>{let t,i;return e.type.startsWith("touch")?(i=e.touches[0].clientY,t=e.touches[0].clientX):(i=e.clientY,t=e.clientX),{clientX:t,clientY:i}},_=i=>{t.dragging=!0,t.isClick=!0;const{clientX:n,clientY:a}=F(i);e.vertical?t.startY=a:t.startX=n,t.startPosition=Number.parseFloat(S.value),t.newPosition=t.startPosition},O=i=>{if(t.dragging){let n;t.isClick=!1,x(),f();const{clientX:a,clientY:o}=F(i);e.vertical?(t.currentY=o,n=(t.startY-t.currentY)/p.value*100):(t.currentX=a,n=(t.currentX-t.startX)/p.value*100),t.newPosition=t.startPosition+n,X(t.newPosition)}},$=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||C(),t.isClick||X(t.newPosition),v()}),0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$),window.removeEventListener("contextmenu",$))},X=async n=>{if(null===n||Number.isNaN(+n))return;n<0?n=0:n>100&&(n=100);const o=100/((s.value-r.value)/u.value),l=Math.round(n/o);let d=l*o*(s.value-r.value)*.01+r.value;d=Number.parseFloat(d.toFixed(h.value)),d!==e.modelValue&&i(E.l4,d),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await(0,a.dY)(),t.dragging&&x(),b.value.updatePopper()};return(0,a.wB)((()=>t.dragging),(e=>{g(e)})),(0,l.MLh)(R,"touchstart",T,{passive:!1}),{disabled:n,button:R,tooltip:b,tooltipVisible:y,showTooltip:d,persistent:c,wrapperStyle:k,formatValue:w,handleMouseEnter:P,handleMouseLeave:M,onButtonDown:T,onKeyDown:A,setPosition:X}},je=(0,a.pM)({name:"ElSliderButton"}),Ke=(0,a.pM)({...je,props:ge,emits:be,setup(e,{expose:t,emit:i}){const n=e,s=(0,O.DU)("slider"),l=(0,o.Kh)({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),u=(0,a.EW)((()=>!!p.value&&m.value)),{disabled:d,button:c,tooltip:h,showTooltip:p,persistent:m,tooltipVisible:v,wrapperStyle:f,formatValue:g,handleMouseEnter:b,handleMouseLeave:y,onButtonDown:w,onKeyDown:x,setPosition:C}=Ue(n,l,i),{hovering:R,dragging:E}=(0,o.QW)(l);return t({onButtonDown:w,onKeyDown:x,setPosition:C,hovering:R,dragging:E}),(e,t)=>((0,a.uX)(),(0,a.CE)("div",{ref_key:"button",ref:c,class:(0,r.C4)([(0,o.R1)(s).e("button-wrapper"),{hover:(0,o.R1)(R),dragging:(0,o.R1)(E)}]),style:(0,r.Tr)((0,o.R1)(f)),tabindex:(0,o.R1)(d)?-1:0,onMouseenter:(0,o.R1)(b),onMouseleave:(0,o.R1)(y),onMousedown:(0,o.R1)(w),onFocus:(0,o.R1)(b),onBlur:(0,o.R1)(y),onKeydown:(0,o.R1)(x)},[(0,a.bF)((0,o.R1)(fe.R7),{ref_key:"tooltip",ref:h,visible:(0,o.R1)(v),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!(0,o.R1)(p),persistent:(0,o.R1)(u)},{content:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,r.v_)((0,o.R1)(g)),1)])),default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:(0,r.C4)([(0,o.R1)(s).e("button"),{hover:(0,o.R1)(R),dragging:(0,o.R1)(E)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Ye=(0,M.A)(Ke,[["__file","button.vue"]]);const Qe=(0,S.b_)({mark:{type:(0,S.jq)([String,Object]),default:void 0}});var qe=(0,a.pM)({name:"ElSliderMarker",props:Qe,setup(e){const t=(0,O.DU)("slider"),i=(0,a.EW)((()=>(0,r.Kg)(e.mark)?e.mark:e.mark.label)),n=(0,a.EW)((()=>(0,r.Kg)(e.mark)?void 0:e.mark.style));return()=>(0,a.h)("div",{class:t.e("marks-text"),style:n.value},i.value)}});const Ge=(e,t,i)=>{const{form:n,formItem:r}=(0,D.j)(),s=(0,o.IJ)(),l=(0,o.KR)(),u=(0,o.KR)(),d={firstButton:l,secondButton:u},c=(0,a.EW)((()=>e.disabled||(null==n?void 0:n.disabled)||!1)),h=(0,a.EW)((()=>Math.min(t.firstValue,t.secondValue))),p=(0,a.EW)((()=>Math.max(t.firstValue,t.secondValue))),m=(0,a.EW)((()=>e.range?100*(p.value-h.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),v=(0,a.EW)((()=>e.range?100*(h.value-e.min)/(e.max-e.min)+"%":"0%")),f=(0,a.EW)((()=>e.vertical?{height:e.height}:{})),g=(0,a.EW)((()=>e.vertical?{height:m.value,bottom:v.value}:{width:m.value,left:v.value})),b=()=>{s.value&&(t.sliderSize=s.value["client"+(e.vertical?"Height":"Width")])},y=i=>{const n=e.min+i*(e.max-e.min)/100;if(!e.range)return l;let a;return a=Math.abs(h.value-n)<Math.abs(p.value-n)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",d[a]},w=e=>{const t=y(e);return t.value.setPosition(e),t},x=i=>{t.firstValue=null!=i?i:e.min,R(e.range?[h.value,p.value]:null!=i?i:e.min)},C=i=>{t.secondValue=i,e.range&&R([h.value,p.value])},R=e=>{i(E.l4,e),i(E.qs,e)},S=async()=>{await(0,a.dY)(),i(E.YU,e.range?[h.value,p.value]:e.modelValue)},k=i=>{var n,a,o,r,l,u;if(c.value||t.dragging)return;b();let d=0;if(e.vertical){const e=null!=(o=null==(a=null==(n=i.touches)?void 0:n.item(0))?void 0:a.clientY)?o:i.clientY,r=s.value.getBoundingClientRect().bottom;d=(r-e)/t.sliderSize*100}else{const e=null!=(u=null==(l=null==(r=i.touches)?void 0:r.item(0))?void 0:l.clientX)?u:i.clientX,n=s.value.getBoundingClientRect().left;d=(e-n)/t.sliderSize*100}return d<0||d>100?void 0:w(d)},P=e=>{var t,i;((null==(t=d["firstButton"].value)?void 0:t.dragging)||(null==(i=d["secondButton"].value)?void 0:i.dragging))&&e.preventDefault()},M=async e=>{const t=k(e);t&&(await(0,a.dY)(),t.value.onButtonDown(e))},T=e=>{const t=k(e);t&&S()},N=e=>{c.value||t.dragging||w(e)};return{elFormItem:r,slider:s,firstButton:l,secondButton:u,sliderDisabled:c,minValue:h,maxValue:p,runwayStyle:f,barStyle:g,resetSize:b,setPosition:w,emitChange:S,onSliderWrapperPrevent:P,onSliderClick:T,onSliderDown:M,onSliderMarkerDown:N,setFirstValue:x,setSecondValue:C}},He=(e,t,i,n)=>{const o=(0,a.EW)((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return(0,N.U)("ElSlider","step should not be 0."),[];const a=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),r=Array.from({length:a-1}).map(((e,t)=>(t+1)*o));return e.range?r.filter((t=>t<100*(i.value-e.min)/(e.max-e.min)||t>100*(n.value-e.min)/(e.max-e.min))):r.filter((i=>i>100*(t.firstValue-e.min)/(e.max-e.min)))})),r=t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`};return{stops:o,getStopStyle:r}},Je=e=>(0,a.EW)((()=>{if(!e.marks)return[];const t=Object.keys(e.marks);return t.map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]})))})),Ze=(e,t,i,n,o,s)=>{const l=e=>{o(E.l4,e),o(E.qs,e)},u=()=>e.range?![i.value,n.value].every(((e,i)=>e===t.oldValue[i])):e.modelValue!==t.oldValue,d=()=>{var i,n;e.min>e.max&&(0,N.$)("Slider","min should not be greater than max.");const a=e.modelValue;e.range&&(0,r.cy)(a)?a[1]<e.min?l([e.min,e.min]):a[0]>e.max?l([e.max,e.max]):a[0]<e.min?l([e.min,a[1]]):a[1]>e.max?l([a[0],e.max]):(t.firstValue=a[0],t.secondValue=a[1],u()&&(e.validateEvent&&(null==(i=null==s?void 0:s.validate)||i.call(s,"change").catch((e=>(0,N.U)(e)))),t.oldValue=a.slice())):e.range||!(0,m.Et)(a)||Number.isNaN(a)||(a<e.min?l(e.min):a>e.max?l(e.max):(t.firstValue=a,u()&&(e.validateEvent&&(null==(n=null==s?void 0:s.validate)||n.call(s,"change").catch((e=>(0,N.U)(e)))),t.oldValue=a)))};d(),(0,a.wB)((()=>t.dragging),(e=>{e||d()})),(0,a.wB)((()=>e.modelValue),((e,i)=>{t.dragging||(0,r.cy)(e)&&(0,r.cy)(i)&&e.every(((e,t)=>e===i[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||d()}),{deep:!0}),(0,a.wB)((()=>[e.min,e.max]),(()=>{d()}))},et=(e,t,i)=>{const n=(0,o.KR)();return(0,a.sV)((async()=>{e.range?((0,r.cy)(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!(0,m.Et)(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),(0,l.MLh)(window,"resize",i),await(0,a.dY)(),i()})),{sliderWrapper:n}},tt=(0,a.pM)({name:"ElSlider"}),it=(0,a.pM)({...tt,props:pe,emits:ve,setup(e,{expose:t,emit:i}){const n=e,u=(0,O.DU)("slider"),{t:d}=re(),c=(0,o.Kh)({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:p,firstButton:m,secondButton:v,sliderDisabled:f,minValue:g,maxValue:b,runwayStyle:y,barStyle:w,resetSize:x,emitChange:C,onSliderWrapperPrevent:R,onSliderClick:E,onSliderDown:S,onSliderMarkerDown:k,setFirstValue:P,setSecondValue:M}=Ge(n,c,i),{stops:T,getStopStyle:N}=He(n,c,g,b),{inputId:W,isLabeledByFormItem:V}=(0,D.W)(n,{formItemContext:h}),L=(0,I.NV)(),B=(0,a.EW)((()=>n.inputSize||L.value)),A=(0,a.EW)((()=>n.ariaLabel||d("el.slider.defaultLabel",{min:n.min,max:n.max}))),F=(0,a.EW)((()=>n.range?n.rangeStartLabel||d("el.slider.defaultRangeStartLabel"):A.value)),_=(0,a.EW)((()=>n.formatValueText?n.formatValueText(Y.value):`${Y.value}`)),$=(0,a.EW)((()=>n.rangeEndLabel||d("el.slider.defaultRangeEndLabel"))),X=(0,a.EW)((()=>n.formatValueText?n.formatValueText(Q.value):`${Q.value}`)),z=(0,a.EW)((()=>[u.b(),u.m(L.value),u.is("vertical",n.vertical),{[u.m("with-input")]:n.showInput}])),U=Je(n);Ze(n,c,g,b,i,h);const j=(0,a.EW)((()=>{const e=[n.min,n.max,n.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:K}=et(n,c,x),{firstValue:Y,secondValue:Q,sliderSize:q}=(0,o.QW)(c),G=e=>{c.dragging=e};return(0,l.MLh)(K,"touchstart",R,{passive:!1}),(0,l.MLh)(K,"touchmove",R,{passive:!1}),(0,a.Gt)(ce,{...(0,o.QW)(n),sliderSize:q,disabled:f,precision:j,emitChange:C,resetSize:x,updateDragging:G}),t({onSliderClick:E}),(e,t)=>{var i,n;return(0,a.uX)(),(0,a.CE)("div",{id:e.range?(0,o.R1)(W):void 0,ref_key:"sliderWrapper",ref:K,class:(0,r.C4)((0,o.R1)(z)),role:e.range?"group":void 0,"aria-label":e.range&&!(0,o.R1)(V)?(0,o.R1)(A):void 0,"aria-labelledby":e.range&&(0,o.R1)(V)?null==(i=(0,o.R1)(h))?void 0:i.labelId:void 0},[(0,a.Lk)("div",{ref_key:"slider",ref:p,class:(0,r.C4)([(0,o.R1)(u).e("runway"),{"show-input":e.showInput&&!e.range},(0,o.R1)(u).is("disabled",(0,o.R1)(f))]),style:(0,r.Tr)((0,o.R1)(y)),onMousedown:(0,o.R1)(S),onTouchstartPassive:(0,o.R1)(S)},[(0,a.Lk)("div",{class:(0,r.C4)((0,o.R1)(u).e("bar")),style:(0,r.Tr)((0,o.R1)(w))},null,6),(0,a.bF)(Ye,{id:e.range?void 0:(0,o.R1)(W),ref_key:"firstButton",ref:m,"model-value":(0,o.R1)(Y),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!(0,o.R1)(V)?(0,o.R1)(F):void 0,"aria-labelledby":!e.range&&(0,o.R1)(V)?null==(n=(0,o.R1)(h))?void 0:n.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?(0,o.R1)(Q):e.max,"aria-valuenow":(0,o.R1)(Y),"aria-valuetext":(0,o.R1)(_),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,o.R1)(f),"onUpdate:modelValue":(0,o.R1)(P)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?((0,a.uX)(),(0,a.Wv)(Ye,{key:0,ref_key:"secondButton",ref:v,"model-value":(0,o.R1)(Q),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":(0,o.R1)($),"aria-valuemin":(0,o.R1)(Y),"aria-valuemax":e.max,"aria-valuenow":(0,o.R1)(Q),"aria-valuetext":(0,o.R1)(X),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,o.R1)(f),"onUpdate:modelValue":(0,o.R1)(M)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0),e.showStops?((0,a.uX)(),(0,a.CE)("div",{key:1},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,o.R1)(T),((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,r.C4)((0,o.R1)(u).e("stop")),style:(0,r.Tr)((0,o.R1)(N)(e))},null,6)))),128))])):(0,a.Q3)("v-if",!0),(0,o.R1)(U).length>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,o.R1)(U),((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,style:(0,r.Tr)((0,o.R1)(N)(e.position)),class:(0,r.C4)([(0,o.R1)(u).e("stop"),(0,o.R1)(u).e("marks-stop")])},null,6)))),128))]),(0,a.Lk)("div",{class:(0,r.C4)((0,o.R1)(u).e("marks"))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,o.R1)(U),((e,t)=>((0,a.uX)(),(0,a.Wv)((0,o.R1)(qe),{key:t,mark:e.mark,style:(0,r.Tr)((0,o.R1)(N)(e.position)),onMousedown:(0,s.D$)((t=>(0,o.R1)(k)(e.position)),["stop"])},null,8,["mark","style","onMousedown"])))),128))],2)],64)):(0,a.Q3)("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),e.showInput&&!e.range?((0,a.uX)(),(0,a.Wv)((0,o.R1)(de),{key:0,ref:"input","model-value":(0,o.R1)(Y),class:(0,r.C4)((0,o.R1)(u).e("input")),step:e.step,disabled:(0,o.R1)(f),controls:e.showInputControls,min:e.min,max:e.max,precision:(0,o.R1)(j),debounce:e.debounce,size:(0,o.R1)(B),"onUpdate:modelValue":(0,o.R1)(P),onChange:(0,o.R1)(C)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):(0,a.Q3)("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var nt=(0,M.A)(it,[["__file","slider.vue"]]);const at=(0,j.GU)(nt);i(1553);const ot={class:"audio-item"},rt={class:"file-name"},st={ref:"waveform",class:"waveform"},lt={class:"controls"},ut={class:"time"},dt={key:0,class:"score"};function ct(e,t,i,n,o,s){const l=at;return(0,a.uX)(),(0,a.CE)("div",ot,[(0,a.Lk)("div",rt,(0,r.v_)(i.fileName),1),(0,a.Lk)("div",st,null,512),(0,a.Lk)("div",lt,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.togglePlay&&s.togglePlay(...e))},(0,r.v_)(o.isPlaying?"⏸ 暂停":"▶ 播放"),1),(0,a.Lk)("span",ut,(0,r.v_)(s.formatTime(o.currentTime))+" / "+(0,r.v_)(s.formatTime(o.duration)),1)]),i.hasScore?((0,a.uX)(),(0,a.CE)("div",dt,[(0,a.bF)(l,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),disabled:i.scoreDisabled,marks:o.marks,onChange:s.handleChange},null,8,["modelValue","disabled","marks","onChange"])])):(0,a.Q3)("",!0)])}i(4603),i(7566),i(8721);function ht(e,t,i,n){return new(i||(i=Promise))((function(a,o){function r(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((n=n.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class pt{constructor(){this.listeners={}}on(e,t,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),null==i?void 0:i.once){const i=()=>{this.un(e,i),this.un(e,t)};return this.on(e,i),i}return()=>this.un(e,t)}un(e,t){var i;null===(i=this.listeners[e])||void 0===i||i.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach((e=>e(...t)))}}const mt={decode:function(e,t){return ht(this,void 0,void 0,(function*(){const i=new AudioContext({sampleRate:t});return i.decodeAudioData(e).finally((()=>i.close()))}))},createBuffer:function(e,t){return"number"==typeof e[0]&&(e=[e]),function(e){const t=e[0];if(t.some((e=>e>1||e<-1))){const i=t.length;let n=0;for(let e=0;e<i;e++){const i=Math.abs(t[e]);i>n&&(n=i)}for(const t of e)for(let e=0;e<i;e++)t[e]/=n}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:t=>null==e?void 0:e[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function vt(e,t){const i=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[n,a]of Object.entries(t))if("children"===n)for(const[e,o]of Object.entries(t))"string"==typeof o?i.appendChild(document.createTextNode(o)):i.appendChild(vt(e,o));else"style"===n?Object.assign(i.style,a):"textContent"===n?i.textContent=a:i.setAttribute(n,a.toString());return i}function ft(e,t,i){const n=vt(e,t||{});return null==i||i.appendChild(n),n}var gt=Object.freeze({__proto__:null,createElement:ft,default:ft});const bt={fetchBlob:function(e,t,i){return ht(this,void 0,void 0,(function*(){const n=yield fetch(e,i);if(n.status>=400)throw new Error(`Failed to fetch ${e}: ${n.status} (${n.statusText})`);return function(e,t){ht(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const i=e.body.getReader(),n=Number(e.headers.get("Content-Length"))||0;let a=0;const o=e=>ht(this,void 0,void 0,(function*(){a+=(null==e?void 0:e.length)||0;const i=Math.round(a/n*100);t(i)})),r=()=>ht(this,void 0,void 0,(function*(){let e;try{e=yield i.read()}catch(e){return}e.done||(o(e.value),yield r())}));r()}))}(n.clone(),t),n.blob()}))}};class yt extends pt{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),null!=e.playbackRate&&this.onMediaEvent("canplay",(()=>{null!=e.playbackRate&&(this.media.playbackRate=e.playbackRate)}),{once:!0})}onMediaEvent(e,t,i){return this.media.addEventListener(e,t,i),()=>this.media.removeEventListener(e,t,i)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return""!==this.media.canPlayType(e)}setSrc(e,t){const i=this.getSrc();if(e&&i===e)return;this.revokeSrc();const n=t instanceof Blob&&(this.canPlayType(t.type)||!e)?URL.createObjectURL(t):e;i&&(this.media.src="");try{this.media.src=n}catch(t){this.media.src=e}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return ht(this,void 0,void 0,(function*(){return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){null!=t&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class wt extends pt{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=e;const i=this.parentFromOptionsContainer(e.container);this.parent=i;const[n,a]=this.initHtml();i.appendChild(n),this.container=n,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),t&&a.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if("string"==typeof e?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=e=>{const t=this.wrapper.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;return[i/t.width,n/t.height]};if(this.wrapper.addEventListener("click",(t=>{const[i,n]=e(t);this.emit("click",i,n)})),this.wrapper.addEventListener("dblclick",(t=>{const[i,n]=e(t);this.emit("dblclick",i,n)})),!0!==this.options.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:i}=this.scrollContainer,n=e/t,a=(e+i)/t;this.emit("scroll",n,a,e,e+i)})),"function"==typeof ResizeObserver){const e=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{e().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&"auto"!==this.options.height||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,t,i,n,a=3,o=0,r=100){if(!e)return()=>{};const s=matchMedia("(pointer: coarse)").matches;let l=()=>{};const u=u=>{if(u.button!==o)return;u.preventDefault(),u.stopPropagation();let d=u.clientX,c=u.clientY,h=!1;const p=Date.now(),m=n=>{if(n.preventDefault(),n.stopPropagation(),s&&Date.now()-p<r)return;const o=n.clientX,l=n.clientY,u=o-d,m=l-c;if(h||Math.abs(u)>a||Math.abs(m)>a){const n=e.getBoundingClientRect(),{left:a,top:r}=n;h||(null==i||i(d-a,c-r),h=!0),t(u,m,o-a,l-r),d=o,c=l}},v=t=>{if(h){const i=t.clientX,a=t.clientY,o=e.getBoundingClientRect(),{left:r,top:s}=o;null==n||n(i-r,a-s)}l()},f=e=>{e.relatedTarget&&e.relatedTarget!==document.documentElement||v(e)},g=e=>{h&&(e.stopPropagation(),e.preventDefault())},b=e=>{h&&e.preventDefault()};document.addEventListener("pointermove",m),document.addEventListener("pointerup",v),document.addEventListener("pointerout",f),document.addEventListener("pointercancel",f),document.addEventListener("touchmove",b,{passive:!1}),document.addEventListener("click",g,{capture:!0}),l=()=>{document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",f),document.removeEventListener("pointercancel",f),document.removeEventListener("touchmove",b),setTimeout((()=>{document.removeEventListener("click",g,{capture:!0})}),10)}};return e.addEventListener("pointerdown",u),()=>{l(),e.removeEventListener("pointerdown",u)}}(this.wrapper,((e,t,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))}),(e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}),(e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))})))}getHeight(e,t){var i;const n=(null===(i=this.audioData)||void 0===i?void 0:i.numberOfChannels)||1;if(null==e)return 128;if(!isNaN(Number(e)))return Number(e);if("auto"===e){const e=this.parent.clientHeight||128;return(null==t?void 0:t.every((e=>!e.overlay)))?e/n:e}return 128}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"}),i=this.options.cspNonce&&"string"==typeof this.options.cspNonce?this.options.cspNonce.replace(/"/g,""):"";return t.innerHTML=`\n      <style${i?` nonce="${i}"`:""}>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class="scroll" part="scroll">\n        <div class="wrapper" part="wrapper">\n          <div class="canvases" part="canvases"></div>\n          <div class="progress" part="progress"></div>\n          <div class="cursor" part="cursor"></div>\n        </div>\n      </div>\n    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}!0!==e.dragToSeek&&"object"!=typeof this.options.dragToSeek||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,i=t*e;this.setScroll(i)}destroy(){var e,t;this.subscriptions.forEach((e=>e())),this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(t=this.unsubscribeOnScroll)||void 0===t||t.forEach((e=>e())),this.unsubscribeOnScroll=[]}createDelay(e=10){let t,i;const n=()=>{t&&clearTimeout(t),i&&i()};return this.timeouts.push(n),()=>new Promise(((a,o)=>{n(),i=o,t=setTimeout((()=>{t=void 0,i=void 0,a()}),e)}))}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),i=t.getContext("2d"),n=t.height*(window.devicePixelRatio||1),a=i.createLinearGradient(0,0,0,n),o=1/(e.length-1);return e.forEach(((e,t)=>{const i=t*o;a.addColorStop(i,e)})),a}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(e,t,i,n){const a=e[0],o=e[1]||e[0],r=a.length,{width:s,height:l}=i.canvas,u=l/2,d=this.getPixelRatio(),c=t.barWidth?t.barWidth*d:1,h=t.barGap?t.barGap*d:t.barWidth?c/2:0,p=t.barRadius||0,m=s/(c+h)/r,v=p&&"roundRect"in i?"roundRect":"rect";i.beginPath();let f=0,g=0,b=0;for(let y=0;y<=r;y++){const e=Math.round(y*m);if(e>f){const a=Math.round(g*u*n),o=a+Math.round(b*u*n)||1;let r=u-a;"top"===t.barAlign?r=0:"bottom"===t.barAlign&&(r=l-o),i[v](f*(c+h),r,c,o,p),f=e,g=0,b=0}const r=Math.abs(a[y]||0),s=Math.abs(o[y]||0);r>g&&(g=r),s>b&&(b=s)}i.fill(),i.closePath()}renderLineWaveform(e,t,i,n){const a=t=>{const a=e[t]||e[0],o=a.length,{height:r}=i.canvas,s=r/2,l=i.canvas.width/o;i.moveTo(0,s);let u=0,d=0;for(let e=0;e<=o;e++){const o=Math.round(e*l);if(o>u){const e=s+(Math.round(d*s*n)||1)*(0===t?-1:1);i.lineTo(u,e),u=o,d=0}const r=Math.abs(a[e]||0);r>d&&(d=r)}i.lineTo(u,s)};i.beginPath(),a(0),a(1),i.fill(),i.closePath()}renderWaveform(e,t,i){if(i.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction)return void t.renderFunction(e,i);let n=t.barHeight||1;if(t.normalize){const t=Array.from(e[0]).reduce(((e,t)=>Math.max(e,Math.abs(t))),0);n=t?1/t:1}t.barWidth||t.barGap||t.barAlign?this.renderBarWaveform(e,t,i,n):this.renderLineWaveform(e,t,i,n)}renderSingleCanvas(e,t,i,n,a,o,r){const s=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(i*s),l.height=Math.round(n*s),l.style.width=`${i}px`,l.style.height=`${n}px`,l.style.left=`${Math.round(a)}px`,o.appendChild(l);const u=l.getContext("2d");if(this.renderWaveform(e,t,u),l.width>0&&l.height>0){const e=l.cloneNode(),i=e.getContext("2d");i.drawImage(l,0,0),i.globalCompositeOperation="source-in",i.fillStyle=this.convertColorValues(t.progressColor),i.fillRect(0,0,l.width,l.height),r.appendChild(e)}}renderMultiCanvas(e,t,i,n,a,o){const r=this.getPixelRatio(),{clientWidth:s}=this.scrollContainer,l=i/r;let u=Math.min(wt.MAX_CANVAS_WIDTH,s,l),d={};if(0===u)return;if(t.barWidth||t.barGap){const e=t.barWidth||.5,i=e+(t.barGap||e/2);u%i!=0&&(u=Math.floor(u/i)*i)}const c=i=>{if(i<0||i>=h)return;if(d[i])return;d[i]=!0;const r=i*u,s=Math.min(l-r,u);if(s<=0)return;const c=e.map((e=>{const t=Math.floor(r/l*e.length),i=Math.floor((r+s)/l*e.length);return e.slice(t,i)}));this.renderSingleCanvas(c,t,s,n,r,a,o)},h=Math.ceil(l/u);if(!this.isScrollable){for(let e=0;e<h;e++)c(e);return}const p=this.scrollContainer.scrollLeft/l,m=Math.floor(p*h);if(c(m-1),c(m),c(m+1),h>1){const e=this.on("scroll",(()=>{const{scrollLeft:e}=this.scrollContainer,t=Math.floor(e/l*h);Object.keys(d).length>wt.MAX_NODES&&(a.innerHTML="",o.innerHTML="",d={}),c(t-1),c(t),c(t+1)}));this.unsubscribeOnScroll.push(e)}}renderChannel(e,t,i,n){var{overlay:a}=t,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i}(t,["overlay"]);const r=document.createElement("div"),s=this.getHeight(o.height,o.splitChannels);r.style.height=`${s}px`,a&&n>0&&(r.style.marginTop=`-${s}px`),this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(r);const l=r.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(e,o,i,s,r,l)}render(e){return ht(this,void 0,void 0,(function*(){var t;this.timeouts.forEach((e=>e())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),n=this.scrollContainer.clientWidth,a=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=a>n;const o=this.options.fillParent&&!this.isScrollable,r=(o?n:a)*i;if(this.wrapper.style.width=o?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let s=0;s<e.numberOfChannels;s++){const i=Object.assign(Object.assign({},this.options),null===(t=this.options.splitChannels)||void 0===t?void 0:t[s]);this.renderChannel([e.getChannelData(s)],i,r,s)}else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),this.renderChannel(t,this.options,r,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((e=>e())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:e}=this.progressWrapper.getBoundingClientRect();let i=e-t;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:i,scrollWidth:n,clientWidth:a}=this.scrollContainer,o=e*n,r=i,s=i+a,l=a/2;if(this.isDragging){const e=30;o+e>s?this.scrollContainer.scrollLeft+=e:o-e<r&&(this.scrollContainer.scrollLeft-=e)}else{(o<r||o>s)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const e=o-i-l;t&&this.options.autoCenter&&e>0&&(this.scrollContainer.scrollLeft+=Math.min(e,10))}{const e=this.scrollContainer.scrollLeft,t=e/n,i=(e+a)/n;this.emit("scroll",t,i,e,e+a)}}renderProgress(e,t){if(isNaN(e))return;const i=100*e;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${100===Math.round(i)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,t)}exportImage(e,t,i){return ht(this,void 0,void 0,(function*(){const n=this.canvasWrapper.querySelectorAll("canvas");if(!n.length)throw new Error("No waveform data");if("dataURL"===i){const i=Array.from(n).map((i=>i.toDataURL(e,t)));return Promise.resolve(i)}return Promise.all(Array.from(n).map((i=>new Promise(((n,a)=>{i.toBlob((e=>{e?n(e):a(new Error("Could not export image"))}),e,t)})))))}))}}wt.MAX_CANVAS_WIDTH=8e3,wt.MAX_NODES=10;class xt extends pt{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class Ct extends pt{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ht(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then((t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()})).then((t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t))).then((t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){var e;if(!this.paused)return;this.paused=!1,null===(e=this.bufferNode)||void 0===e||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,null===(e=this.bufferNode)||void 0===e||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ht(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const t=e-this.currentTime,i=this.bufferNode;null==i||i.stop(this.audioContext.currentTime+t),null==i||i.addEventListener("ended",(()=>{i===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(e){return ht(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,t;return null!==(e=this._duration)&&void 0!==e?e:(null===(t=this.buffer)||void 0===t?void 0:t.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let i=0;i<t;i++)e.push(this.buffer.getChannelData(i));return e}}const Rt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Et extends yt{static create(e){return new Et(e)}constructor(e){const t=e.media||("WebAudio"===e.backend?new Ct:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Rt,e),this.timer=new xt;const i=t?void 0:this.getMediaElement();this.renderer=new wt(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:e,duration:t}=this.options;(n||e&&t)&&this.load(n,e,t).catch((()=>null))}))}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),null!=this.stopAtPosition&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const e=this.updateProgress();this.emit("timeupdate",e)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var e;this.emit("error",null!==(e=this.getMediaElement().error)&&void 0!==e?e:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))})),this.renderer.on("dblclick",((e,t)=>{this.emit("dblclick",e,t)})),this.renderer.on("scroll",((e,t,i,n)=>{const a=this.getDuration();this.emit("scroll",e*a,t*a,i,n)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(e=>{this.emit("dragstart",e)})),this.renderer.on("dragend",(e=>{this.emit("dragend",e)})));{let e;this.subscriptions.push(this.renderer.on("drag",(t=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(t),clearTimeout(e),this.isPlaying()?i=0:!0===this.options.dragToSeek?i=200:"object"==typeof this.options.dragToSeek&&void 0!==this.options.dragToSeek&&(i=this.options.dragToSeek.debounceTime),e=setTimeout((()=>{this.seekTo(t)}),i),this.emit("interaction",t*this.getDuration()),this.emit("drag",t)})))}}initPlugins(){var e;(null===(e=this.options.plugins)||void 0===e?void 0:e.length)&&this.options.plugins.forEach((e=>{this.registerPlugin(e)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((e=>e())),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=mt.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=mt.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),null!=e.mediaControls&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",(()=>{this.plugins=this.plugins.filter((t=>t!==e))}))),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,i,n){return ht(this,void 0,void 0,(function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!t&&!i){const i=this.options.fetchParams||{};window.AbortController&&!i.signal&&(this.abortController=new AbortController,i.signal=null===(a=this.abortController)||void 0===a?void 0:a.signal);const n=e=>this.emit("loading",e);t=yield bt.fetchBlob(e,n,i);const o=this.options.blobMimeType;o&&(t=new Blob([t],{type:o}))}this.setSrc(e,t);const o=yield new Promise((e=>{const t=n||this.getDuration();t?e(t):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>e(this.getDuration())),{once:!0}))}));if(!e&&!t){const e=this.getMediaElement();e instanceof Ct&&(e.duration=o)}if(i)this.decodedData=mt.createBuffer(i,o||0);else if(t){const e=yield t.arrayBuffer();this.decodedData=yield mt.decode(e,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(e,t,i){return ht(this,void 0,void 0,(function*(){try{return yield this.loadAudio(e,void 0,t,i)}catch(ht){throw this.emit("error",ht),ht}}))}loadBlob(e,t,i){return ht(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",e,t,i)}catch(ht){throw this.emit("error",ht),ht}}))}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const n=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let o=0;o<n;o++){const e=this.decodedData.getChannelData(o),n=[],r=e.length/t;for(let a=0;a<t;a++){const t=e.slice(Math.floor(a*r),Math.ceil((a+1)*r));let o=0;for(let e=0;e<t.length;e++){const i=t[e];Math.abs(i)>Math.abs(o)&&(o=i)}n.push(Math.round(o*i)/i)}a.push(n)}return a}getDuration(){let e=super.getDuration()||0;return 0!==e&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}play(e,t){const i=Object.create(null,{play:{get:()=>super.play}});return ht(this,void 0,void 0,(function*(){null!=e&&this.setTime(e);const n=yield i.play.call(this);return null!=t&&(this.media instanceof Ct?this.media.stopAt(t):this.stopAtPosition=t),n}))}playPause(){return ht(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return ht(this,arguments,void 0,(function*(e="image/png",t=1,i="dataURL"){return this.renderer.exportImage(e,t,i)}))}destroy(){var e;this.emit("destroy"),null===(e=this.abortController)||void 0===e||e.abort(),this.plugins.forEach((e=>e.destroy())),this.subscriptions.forEach((e=>e())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Et.BasePlugin=class extends pt{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e()))}},Et.dom=gt;var St={props:{audioUrl:{type:String,required:!0},fileName:{type:String,required:!0},hasScore:{type:Boolean,default:!0},scoreDisabled:{type:Boolean},score:{type:Number}},data(){return{wavesurfer:null,isPlaying:!1,duration:0,currentTime:0,value:0,marks:{20:"Bad",40:"Poor",60:"Fair",80:"Good",100:"Excellent"}}},mounted(){this.initWavesurfer()},beforeDestroy(){this.wavesurfer.destroy(),URL.revokeObjectURL(this.audioUrl)},methods:{initWavesurfer(){this.wavesurfer=Et.create({container:this.$refs.waveform,waveColor:"#718096",progressColor:"#4a5568",cursorColor:"#2d3748",height:80,responsive:!0,normalize:!0}),this.wavesurfer.load(this.audioUrl),this.wavesurfer.on("ready",(()=>{this.duration=this.wavesurfer.getDuration()})),this.wavesurfer.on("audioprocess",(e=>{this.currentTime=e})),this.wavesurfer.on("finish",(()=>{this.$emit("play-ended"),this.isPlaying=!1}))},togglePlay(){this.wavesurfer.playPause(),this.isPlaying=this.wavesurfer.isPlaying(),this.isPlaying&&this.$emit("play-start")},formatTime(e){return[Math.floor(e/60),Math.floor(e%60).toString().padStart(2,"0")].join(":")},handleChange(e){this.$emit("score-change",e,this.fileName)}}},kt=i(6262);const Pt=(0,kt.A)(St,[["render",ct],["__scopeId","data-v-3d06720a"]]);var Mt=Pt,Tt=i(4490);i(8635),i(5929);const Nt={class:"content-container"},Wt={class:"audio-player"},Vt={key:0,class:"audio-list"};function Lt(e,t,i,o,r,s){const l=Tt.gc,u=Tt.l7,d=Mt,c=n.S2;return(0,a.uX)(),(0,a.CE)("div",Nt,[(0,a.bF)(u,{class:"test-steps",active:r.stepIndex,"finish-status":"success","align-center":""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.list,(e=>((0,a.uX)(),(0,a.Wv)(l,{key:e.name,title:e.name},null,8,["title"])))),128))])),_:1},8,["active"]),(0,a.Lk)("div",Wt,[r.audioList.length?((0,a.uX)(),(0,a.CE)("div",Vt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.audioList,((e,t)=>((0,a.uX)(),(0,a.Wv)(d,{key:e.url,"audio-url":e.url,"file-name":e.name,"has-score":"reference"!=e.name,"score-disabled":e.disabled,score:e.score,ref_for:!0,ref:"audioItems",onPlayEnded:t=>s.handlePlayEnd(e.name),onPlayStart:t=>s.handlePlayStart(e.name),onScoreChange:s.handleScoreChange},null,8,["audio-url","file-name","has-score","score-disabled","score","onPlayEnded","onPlayStart","onScoreChange"])))),128))])):(0,a.Q3)("",!0)]),(0,a.bF)(c,{disabled:s.nextDisabled,type:"primary",onClick:s.handleNext},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Next")]))),_:1},8,["disabled","onClick"])])}i(8111),i(116),i(7588),i(1701);var Dt={components:{AudioPlayer:Mt},data(){return{list:[],dataObj:{},audioList:[],currentPlaying:null,stepIndex:0,endCount:0,email:""}},computed:{nextDisabled(){return this.audioList.length>this.endCount}},watch:{stepIndex(e,t){console.log(e,t)}},async mounted(){const e=await fetch("/score.json");this.list=await e.json(),this.audioList=this.list[0].audios.map((e=>({name:e.name,url:e.url,disabled:!0,score:0}))),console.log(this.audioList);const t=await fetch("/email.json"),i=await t.json();this.email=i.email},methods:{handlePlayStart(e){this.currentPlaying&&this.currentPlaying!==e&&this.$refs.audioItems.forEach((t=>{t.fileName!==e&&t.isPlaying&&t.togglePlay()})),this.currentPlaying=e},handlePlayEnd(e){console.log(`${e} 播放完成`);const t=this.audioList.find((t=>t.name===e));t&&t.disabled&&(t.disabled=!1,this.endCount++,console.log(t,this.endCount))},handleScoreChange(e,t){const i=this.audioList.find((e=>e.name===t));i&&(i.score=e)},handleNext(){const e=this.list[this.stepIndex].name;if(this.dataObj[e]=JSON.parse(JSON.stringify(this.audioList)),this.stepIndex===this.list.length-1)console.log("send email"),this.sendEmail(this.dataObj);else{this.stepIndex+=1,this.currentPlaying=null,this.endCount=0,this.audioList=[],console.log(this.dataObj);const e=this.stepIndex;this.audioList=this.list[e].audios.map((e=>({name:e.name,url:e.url,disabled:!0,score:0}))),console.log(this.audioList)}},async sendEmail(e){console.log("模拟发送到:",this.email),console.log("邮件内容:",JSON.stringify(e,null,2));const t="test",i=`\n          邮件内容: ${JSON.stringify(e,null,2)}\n        `;window.location.href=`mailto:${this.email}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(i)}`}}};const It=(0,kt.A)(Dt,[["render",Lt],["__scopeId","data-v-260483d0"]]);var Bt=It},1701:function(e,t,i){var n=i(4137),a=i(713),o=i(6395);n({target:"Iterator",proto:!0,real:!0,forced:o},{map:a})},2812:function(e){var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},4603:function(e,t,i){var n=i(6840),a=i(9504),o=i(655),r=i(2812),s=URLSearchParams,l=s.prototype,u=a(l.append),d=a(l["delete"]),c=a(l.forEach),h=a([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&n(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=[];c(this,(function(e,t){h(n,{key:t,value:e})})),r(t,1);var a,s=o(e),l=o(i),p=0,m=0,v=!1,f=n.length;while(p<f)a=n[p++],v||a.key===s?(v=!0,d(this,a.key)):m++;while(m<f)a=n[m++],a.key===s&&a.value===l||u(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},6319:function(e,t,i){var n=i(8551),a=i(9539);e.exports=function(e,t,i,o){try{return o?t(n(i)[0],i[1]):t(i)}catch(r){a(e,"throw",r)}}},7566:function(e,t,i){var n=i(6840),a=i(9504),o=i(655),r=i(2812),s=URLSearchParams,l=s.prototype,u=a(l.getAll),d=a(l.has),c=new s("a=1");!c.has("a",2)&&c.has("a",void 0)||n(l,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=u(this,e);r(t,1);var a=o(i),s=0;while(s<n.length)if(n[s++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,i){var n=i(3724),a=i(9504),o=i(2106),r=URLSearchParams.prototype,s=a(r.forEach);n&&!("size"in r)&&o(r,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=358.c40cd2c5.js.map